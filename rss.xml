<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="assets/xml/rss.xsl" media="all"?><rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Python Piura</title><link>http://pythonpiura.org/</link><description>Comunidad Python Piura</description><atom:link type="application/rss+xml" rel="self" href="http://pythonpiura.org/rss.xml"></atom:link><language>es</language><lastBuildDate>Sat, 06 Aug 2016 15:48:42 GMT</lastBuildDate><generator>https://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Migrando de Wordpress a Nikola</title><link>http://pythonpiura.org/posts/migrando-de-wordpress-a-nikola/</link><dc:creator>Comunidad Python Piura</dc:creator><description>&lt;div&gt;&lt;p&gt;Despues de haber trabajado durante mucho tiempo en Wordpress decidimos usar algo mas pythonesco y encontramos el proyecto Nikola, que se adapta muy bien a lo que nosotros necesitamos como comunidad, asi que decidimos migrar, para ello seguimos la documentacion oficial del proyecto y algunos tutoriales adicionales, en este post vamos a relatar nuestra experiencia, esperando que sea util a nuestros lectores.&lt;/p&gt;
&lt;p&gt;Primero creamos nuestro entorno virtual, en esta oportunidad usamos python3 para obtener un mejor rendimiento con Nikola,&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_73733a20456c4cdba3fa20e4a7a17bac-1"&gt;&lt;/a&gt;python3 -m venv nikola
&lt;/pre&gt;&lt;p&gt;Activamos el entorno virtual:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_f0cd59e8f7b248669ad7f7b67cd3f09f-1"&gt;&lt;/a&gt;&lt;span class="nb"&gt;source&lt;/span&gt; nikola/bin/activate
&lt;/pre&gt;&lt;p&gt;Antes de iniciar la instalacion de Nikola debimos instalar algunas dependencias para asegurarnos que todo funcione sin ningun problema:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_8956c60e73be4bdeb28b3d20077b2b2a-1"&gt;&lt;/a&gt;sudo apt-get install python3-dev
&lt;a name="rest_code_8956c60e73be4bdeb28b3d20077b2b2a-2"&gt;&lt;/a&gt;sudo apt-get install libxml2-dev libxslt1-dev zlib1g-dev
&lt;a name="rest_code_8956c60e73be4bdeb28b3d20077b2b2a-3"&gt;&lt;/a&gt;sudo apt-get build-dep python3-lxml python3-pil
&lt;/pre&gt;&lt;p&gt;Luego de ello debimos hacer una actualizacion de pip por un problema raro que se nos estaba presentando en la instalacion:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_d3f80ef430304b7bb1699302c7710506-1"&gt;&lt;/a&gt;pip install --upgrade pip
&lt;/pre&gt;&lt;p&gt;Luego procedimos a instalar Nikola y lo hicimos, de acuerdo a la sugerencia de su propia pagina, de la siguiente manera:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_42f23b2630f9466ca9ce347b87e5b960-1"&gt;&lt;/a&gt;pip install --upgrade &lt;span class="s2"&gt;"Nikola[extras]"&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Nos demoramos un poquito, pero finalmente ya teniamos a Nikola instalado en nuestra maquina, como a nosotros no nos interesaba iniciar un sitio desde cero, sino migrar el que ya tenemos en wordpress, hicimos un backup del contenido del blog en wordpress, que es descargado en formato xml, el nuestro se llama pythonpiura.wordpress.2016-06-28.xml y las indicaciones para hacerlo son bastante sencillas y estan explicadas en la documentacion del propio wordpress.
Para hacer la migracion de Wordpress a Nikola leimos rapidamente el manual y encontramos que teniamos 3 opciones, probamos las tres para ver cual nos resultaba mejor, pero antes debimos ingresar en la ruta donde tenemos nuestro archivo xml con el backup, debemos mencionar que las tres opciones nos crean una carpeta new_site.&lt;/p&gt;
&lt;p&gt;1-La opcion por defecto:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_b7640764b6ff4794aaab3063da90b649-1"&gt;&lt;/a&gt;nikola import_wordpress pythonpiura.wordpress.2016-06-28.xml
&lt;/pre&gt;&lt;p&gt;Esta opcion descarga todo el contenido del blog de wordpress e intenta hacer una conversion de cada uno de los posts y paginas al formato .md, no nos funciono correctamente ya que muchos posts se migraron a medias.&lt;/p&gt;
&lt;p&gt;2-Convertir los posts a html:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_f7a1f8e7b562457a8685c68d41852240-1"&gt;&lt;/a&gt;nikola import_wordpress --transform-to-html pythonpiura.wordpress.2016-06-28.xml
&lt;/pre&gt;&lt;p&gt;Para ello primero debemos instalar el plugin de conversion a wordpress&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_02782bb938d24ca7a3f26d805f09505b-1"&gt;&lt;/a&gt;nikola plugin -i wordpress_compiler
&lt;/pre&gt;&lt;p&gt;Esta opcion descarga el contenido y convierte los posts y paginas a html, esta fue la opcion que mejor nos funciono, salvo por el problema con los ejemplos de codigo que tenemos y que llevan la etiqueta:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_71776ac88f224496a3a19f9e219097c9-1"&gt;&lt;/a&gt;[sourcecode language="language"]
&lt;/pre&gt;&lt;p&gt;Hasta donde hemos visto no es posible llevar a cabo la conversion de esto a un formato adecuado asi que simplemente los deja con el texto normal sin darle ningun formato, por lo que este todavia es un tema pendiente de resolver.&lt;/p&gt;
&lt;p&gt;3-Dejar el contenido como formato de wordpress, los archivos de los posts y las paginas tienen las extension .wp&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_149e3bd5a9064096ba2f156f0d7a3bc9-1"&gt;&lt;/a&gt;nikola import_wordpress --use-wordpress-compiler pythonpiura.wordpress.2016-06-28.xml
&lt;/pre&gt;&lt;p&gt;Probamos esta opcion pensando que nos solucionaria el problema de la etiqueta [sourcecode], pero funciono igual que la opcion anterior y encima debiamos activar el plugin de wordpress en el archivo de configuracion del sitio.&lt;/p&gt;
&lt;p&gt;Como comentamos antes usamos la segunda opcion que nos creo la carpeta new_site con el contenido listo, asi que ahora debiamos construir el sitio:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_b9db63e2da2541d6ad7fc7636ef63e2c-1"&gt;&lt;/a&gt;nikola build
&lt;/pre&gt;&lt;p&gt;Y lanzar el servidor de pruebas:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_06d8cd80816a4df3b83cdec9fb3c5330-1"&gt;&lt;/a&gt;nikola serve -b
&lt;/pre&gt;&lt;p&gt;Cambiamos el tema por defecto por uno que nos parecio mas bonito llamado zen, pueden ver mas temas aqui:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://themes.getnikola.com"&gt;https://themes.getnikola.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Lo instalamos asi:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_d1f76d14434940b9ad907b15dde3fb16-1"&gt;&lt;/a&gt;nikola install_theme zen
&lt;/pre&gt;&lt;p&gt;Y lo configuramos en nuestro sitio modificando el archivo conf.py y cambiando la linea:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_78997ef4b6db43fd8f8c47285e518961-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"bootstrap3"&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;por:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_33d29eb70b794e0a9c2768b4ff1b290f-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"zen"&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;y la linea:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_adc3d85932c14b0f8deeb389c3141ddc-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;NAVIGATION_LINKS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_adc3d85932c14b0f8deeb389c3141ddc-2"&gt;&lt;/a&gt;        &lt;span class="n"&gt;DEFAULT_LANG&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_adc3d85932c14b0f8deeb389c3141ddc-3"&gt;&lt;/a&gt;            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"/archive.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Archives"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_adc3d85932c14b0f8deeb389c3141ddc-4"&gt;&lt;/a&gt;            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"/categories/index.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Tags"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_adc3d85932c14b0f8deeb389c3141ddc-5"&gt;&lt;/a&gt;            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"/rss.xml"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"RSS feed"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_adc3d85932c14b0f8deeb389c3141ddc-6"&gt;&lt;/a&gt;        &lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_adc3d85932c14b0f8deeb389c3141ddc-7"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Por:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;NAVIGATION_LINKS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-2"&gt;&lt;/a&gt;    &lt;span class="n"&gt;DEFAULT_LANG&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-3"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/index.html'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Home'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'icon-home'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-4"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/archive.html'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Archives'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'icon-folder-open-alt'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-5"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/categories/index.html'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Tags'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'icon-tags'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-6"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/rss.xml'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'RSS'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'icon-rss'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-7"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'https://getnikola.com'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'About me'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'icon-user'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-8"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'https://twitter.com/getnikola'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'My Twitter'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'icon-twitter'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-9"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'https://github.com/getnikola'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'My Github'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'icon-github'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-10"&gt;&lt;/a&gt;    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_4c06bb7fda94434a9714e7cf0d6f38ff-11"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Lo anterior es por defecto para que funcione, pero ya luego lo modificamos a nuestro gusto.&lt;/p&gt;
&lt;p&gt;Volvimos a construir nuestro sitio:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_d30d383a9d8d47139ef52d3dcdc39355-1"&gt;&lt;/a&gt;nikola build
&lt;/pre&gt;&lt;p&gt;Y a lanzar nuestro servidor:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_5876855ff97f4a059987d358b5c2866b-1"&gt;&lt;/a&gt;nikola serve -b
&lt;/pre&gt;&lt;p&gt;Ahora si nos tocaba deployar nuestro sitio en github:&lt;/p&gt;
&lt;p&gt;Para ello creamos un repositorio con el mismo nombre de nuestro usuario "pythonpiura" pero de la siguiente manera:&lt;/p&gt;
&lt;p&gt;pythonpiura.github.io&lt;/p&gt;
&lt;p&gt;Clonamos este repositorio:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_9e6067b553ef4967b44a4b0910b29cd6-1"&gt;&lt;/a&gt;git clone https://github.com/pythonpiura/pythonpiura.github.io.git
&lt;/pre&gt;&lt;p&gt;Lo siguiente que hicimos, fue copiar el contenido de nuestra carpeta new_site en la carpeta del repositorio recien creado.&lt;/p&gt;
&lt;p&gt;Luego procedimos a modificar el archivo conf.py para que tenga los datos de nuetro nuevo sitio, modificando las siguientes lineas:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_e62496cd0bb545c8ae6e63f09aa7a212-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;SITE_URL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"https://pythonpiura.github.io/"&lt;/span&gt;
&lt;a name="rest_code_e62496cd0bb545c8ae6e63f09aa7a212-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;BLOG_EMAIL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"pythonpiura@openmailbox.org"&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;y tambien las siguientes para que se deploye correctamente en github:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_7ec3367c1d7e416c89f88fb3f61b0bb8-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;GITHUB_SOURCE_BRANCH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'sources'&lt;/span&gt;
&lt;a name="rest_code_7ec3367c1d7e416c89f88fb3f61b0bb8-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;GITHUB_DEPLOY_BRANCH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'master'&lt;/span&gt;
&lt;a name="rest_code_7ec3367c1d7e416c89f88fb3f61b0bb8-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;GITHUB_REMOTE_NAME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'origin'&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Agregamos lo siguiente a nuestro archivo .gitignore para que este contenido no sea subido al repositorio:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_a50e4afc289745ea96c1029088b20e1d-1"&gt;&lt;/a&gt;cache
&lt;a name="rest_code_a50e4afc289745ea96c1029088b20e1d-2"&gt;&lt;/a&gt;.doit.db
&lt;a name="rest_code_a50e4afc289745ea96c1029088b20e1d-3"&gt;&lt;/a&gt;__pycache__
&lt;a name="rest_code_a50e4afc289745ea96c1029088b20e1d-4"&gt;&lt;/a&gt;output
&lt;/pre&gt;&lt;p&gt;Y corremos el comando:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_c17f7a2db1424acdb70c5300a9b92cd5-1"&gt;&lt;/a&gt;nikola github_deploy
&lt;/pre&gt;&lt;p&gt;En este paso github nos solicito nuestro usuario y password, lo ingresamos y continuamos. Tardo varios minutos en subir el contenido pero ya con eso tenemos nuestro blog en la siguiente direccion.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://pythonpiura.org/"&gt;http://pythonpiura.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Saludos.&lt;/p&gt;&lt;/div&gt;</description><guid>http://pythonpiura.org/posts/migrando-de-wordpress-a-nikola/</guid><pubDate>Sat, 02 Jul 2016 05:01:23 GMT</pubDate></item><item><title>IPython y Jupyter</title><link>http://pythonpiura.org/posts/2016/06/18/ipython-y-jupyter/</link><dc:creator>Comunidad Python Piura</dc:creator><description>&lt;div&gt;&lt;p&gt;Despues de un receso hemos regresado y esta vez para hablar de IPython
y Jupyter, como todos sabemos cuando estamos aprendiendo Python
utilizamos el interprete directamente desde una terminal y vamos
probando nuestros programas, al principio todo nos va muy bien pero
luego notamos que nos vamos quedando cortos, es alli donde aparece
&lt;a class="reference external" href="https://ipython.org/"&gt;IPython&lt;/a&gt; que tal como nos dice su pagina web nos provee una
arquitectura rica para computación interactiva con:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Una shell interactiva poderosa.&lt;/li&gt;
&lt;li&gt;Un nucleo para Jupyter.&lt;/li&gt;
&lt;li&gt;Soporte para visualización de datos interactivos y uso de
herramientas GUI.&lt;/li&gt;
&lt;li&gt;Interprete embebido flexible para cargar en nuestros propios
proyectos.&lt;/li&gt;
&lt;li&gt;Fácil de usar, herramientas de alta performance para computación
paralela.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Vamos a instalarlo para ir conociendolo mejor, para ello vamos a
&lt;a class="reference external" href="http://rukbottoland.com/blog/tutorial-de-python-virtualenv/"&gt;crear un entorno virtual&lt;/a&gt;, al que llamaremos ipython:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_010b55e665614f5294ab462c26a2c7c5-1"&gt;&lt;/a&gt;virtualenv ipython
&lt;/pre&gt;&lt;p&gt;Lo activamos:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_312b5a1ae4d04fda94cbc18160f20177-1"&gt;&lt;/a&gt;&lt;span class="nb"&gt;source&lt;/span&gt; ipython/bin/activate
&lt;/pre&gt;&lt;p&gt;Ahora procedemos a instalar ipython:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_bc42a81936fe4368a387fce6759378e3-1"&gt;&lt;/a&gt;pip install ipython
&lt;/pre&gt;&lt;p&gt;Para probar que todo ha salido bien ponemos lo siguiente en la
terminal:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_caea6e7df37f4426a9133acd7fd2078e-1"&gt;&lt;/a&gt;ipython
&lt;/pre&gt;&lt;p&gt;Y nos aparecerá algo como esto, que nos indica que todo esta
funcionando correctamente:&lt;/p&gt;
&lt;img alt="/images/blog/seleccic3b3n_369.png" src="http://pythonpiura.org/images/blog/seleccic3b3n_369.png"&gt;
&lt;p&gt;Escribimos exit para salir del interprete y regresar a nuestra
terminal:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_05127cb720ed4f1c9f2f6b5a2009e7ca-1"&gt;&lt;/a&gt;&lt;span class="nb"&gt;exit&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Ahora conozcamos a &lt;a class="reference external" href="http://jupyter.org/"&gt;Jupyter&lt;/a&gt;, tal como nos dice su pagina web, es una
aplicación web que permite crear y compartir documentos que contienen
código vivo, ecuaciones, visualizaciones y texto explicativo. Se puede
usar para simulación numérica, simulación estadística, machine
learning y mucho mas.
Vamos a instalarlo para ir conociéndolo:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_50680cc3dc3a48bf887825ec2217ad1c-1"&gt;&lt;/a&gt;pip install jupyter
&lt;/pre&gt;&lt;p&gt;Para correrlo debemos escribir lo siguiente:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_030af45a13414d019bac7fbd9b256b37-1"&gt;&lt;/a&gt;ipython notebook
&lt;/pre&gt;&lt;p&gt;Y automáticamente nos abrirá en una pestaña del navegador lo
siguiente:&lt;/p&gt;
&lt;img alt="/images/blog/seleccic3b3n_370.png" src="http://pythonpiura.org/images/blog/seleccic3b3n_370.png"&gt;
&lt;p&gt;Aqui podemos crear un nuevo notebook, dando click al boton new en la
parte superior derecha y seleccionando Python 2:&lt;/p&gt;
&lt;img alt="/images/blog/seleccic3b3n_371.png" src="http://pythonpiura.org/images/blog/seleccic3b3n_371.png"&gt;
&lt;p&gt;Nos aparece una especie de consola web donde podemos ir escribiendo
nuestros programas:&lt;/p&gt;
&lt;img alt="/images/blog/seleccic3b3n_373.png" src="http://pythonpiura.org/images/blog/seleccic3b3n_373.png"&gt;
&lt;p&gt;Y ejecutando su contenido, como si trabajáramos en nuestra vieja
terminal:&lt;/p&gt;
&lt;img alt="/images/blog/seleccic3b3n_372.png" src="http://pythonpiura.org/images/blog/seleccic3b3n_372.png"&gt;
&lt;p&gt;Maravilloso verdad, un interprete web, donde vamos escribiendo
nuestros programas y viendo su funcionamiento, agregando texto,
imagenes, generando graficos, podemos guardar cada noteboook,
exportarlo a pdf, intercambiarlo, etc, como veran es una herramienta
valiosisima para utilizar en la enseñanza, en el analisis de datos, en
los trabajos de investigacion, etc.&lt;/p&gt;
&lt;p&gt;En la red podemos encontrar una gran de cantidad de notebooks listos
para descargar, hay tutoriales, tesis, trabajos de investigacion, etc.
A nosotros nos intereso el siguiente curso, que es introductorio al
leguaje Python:
&lt;a class="reference external" href="http://ricardoduarte.github.io/python-for-developers/"&gt;Python For Developers&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Vamos a descargar el archivo &lt;a class="reference external" href="https://github.com/ricardoduarte/python-for-developers/zipball/master"&gt;zip&lt;/a&gt; conteniendo todos los notebooks y
lo guardamos en la ruta desde donde ejecutamos el comando “ipython
notebook”, lo descomprimimos y tendremos lo siguiente:&lt;/p&gt;
&lt;img alt="/images/blog/seleccic3b3n_375.png" src="http://pythonpiura.org/images/blog/seleccic3b3n_375.png"&gt;
&lt;p&gt;Como verán ahora ya nos aparece la carpeta donde esta el curso,
ingresamos a ella:&lt;/p&gt;
&lt;img alt="/images/blog/seleccic3b3n_376.png" src="http://pythonpiura.org/images/blog/seleccic3b3n_376.png"&gt;
&lt;p&gt;Ahora ingresamos a uno de los capítulos:&lt;/p&gt;
&lt;img alt="/images/blog/seleccic3b3n_378.png" src="http://pythonpiura.org/images/blog/seleccic3b3n_378.png"&gt;
&lt;p&gt;Seleccionamos el archivo con la extensión “ipynb” y veremos un hermoso
curso de introduccion a Python donde podemos ir interactuando con los
programas de ejemplo:&lt;/p&gt;
&lt;img alt="/images/blog/seleccic3b3n_377.png" src="http://pythonpiura.org/images/blog/seleccic3b3n_377.png"&gt;
&lt;p&gt;Genial no, ahora aprender Python y hacer demostraciones de código va a
ser mas divertido :-)&lt;/p&gt;
&lt;p&gt;Eso es todo por hoy, saludos.&lt;/p&gt;&lt;/div&gt;</description><category>ipython</category><guid>http://pythonpiura.org/posts/2016/06/18/ipython-y-jupyter/</guid><pubDate>Sat, 18 Jun 2016 09:46:26 GMT</pubDate></item><item><title>Reporte PDF en Django con Reportlab</title><link>http://pythonpiura.org/posts/2016/05/13/reporte-pdf-en-django-con-reportlab/</link><dc:creator>Comunidad Python Piura</dc:creator><description>&lt;div&gt;&lt;p&gt;Vamos a retomar nuestro proyecto tutorial, al que hemos tenido
bastante olvidado estos últimos días y haremos un reporte en pdf
utilizando la librería &lt;a class="reference external" href="http://www.reportlab.com/"&gt;reportlab&lt;/a&gt;, para ello la instalamos:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_13527231d4a5419c93ddc7424ecc9a31-1"&gt;&lt;/a&gt;pip install reportlab
&lt;/pre&gt;&lt;p&gt;Lo primero que haremos es poner el logo de django en la parte superior
de nuestro reporte, por lo que debemos tener la imagen guardada en una
ubicación fácil de obtener, por eso crearemos una carpeta llamada
“media” en nuestro proyecto y dentro de esta, otra carpeta llamada
imagenes, es aquí donde pondremos nuestro archivo logo_django.png:&lt;/p&gt;
&lt;img alt="/images/blog/ubicacion_logo.jpg" src="http://pythonpiura.org/images/blog/ubicacion_logo.jpg"&gt;
&lt;p&gt;Modificamos el archivo settings.py para poder establecer la ruta de la
carpeta media:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_92f41481ec9a4d2e9f6dba193779e716-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;MEDIA_ROOT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;BASE_DIR&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'media'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Creamos la clase ReportePersonasPDF en el archivo views.py, el código
está explicado en los comentarios:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#Importamos settings para poder tener a la mano la ruta de la carpeta media&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-2"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.conf&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;settings&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-3"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;io&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BytesIO&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-4"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;reportlab.pdfgen&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;canvas&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-5"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.views.generic&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;View&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-7"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ReportePersonasPDF&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;View&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-9"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;cabecera&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-10"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Utilizamos el archivo logo_django.png que está guardado en la carpeta media/imagenes&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-11"&gt;&lt;/a&gt;        &lt;span class="n"&gt;archivo_imagen&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;settings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MEDIA_ROOT&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;'/imagenes/logo_django.png'&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-12"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Definimos el tamaño de la imagen a cargar y las coordenadas correspondientes&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-13"&gt;&lt;/a&gt;        &lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drawImage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;archivo_imagen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;750&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;120&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;90&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;preserveAspectRatio&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-14"&gt;&lt;/a&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-15"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-16"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Indicamos el tipo de contenido a devolver, en este caso un pdf&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-17"&gt;&lt;/a&gt;        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HttpResponse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content_type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'application/pdf'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-18"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#La clase io.BytesIO permite tratar un array de bytes como un fichero binario, se utiliza como almacenamiento temporal&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-19"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;buffer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BytesIO&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-20"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Canvas nos permite hacer el reporte con coordenadas X y Y&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-21"&gt;&lt;/a&gt;        &lt;span class="n"&gt;pdf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;canvas&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Canvas&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-22"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Llamo al método cabecera donde están definidos los datos que aparecen en la cabecera del reporte.&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-23"&gt;&lt;/a&gt;        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cabecera&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-24"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Con show page hacemos un corte de página para pasar a la siguiente&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-25"&gt;&lt;/a&gt;        &lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;showPage&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-26"&gt;&lt;/a&gt;        &lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-27"&gt;&lt;/a&gt;        &lt;span class="n"&gt;pdf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getvalue&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-28"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-29"&gt;&lt;/a&gt;        &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_d2608f31c000444cbe7b613d282bbf91-30"&gt;&lt;/a&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Para poder acceder a esta clase debemos hacer la creación de la url
correspondiente en el archivo urls.py:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_25383995340c4d558697e6d82dd0112f-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;r'^reporte_personas_pdf/$'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;login_required&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ReportePersonasPDF&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as_view&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"reporte_personas_pdf"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Ahora vamos a utilizar la url desde el archivo personas.html:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;'form-group'&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-2"&gt;&lt;/a&gt;    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"row"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-3"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"col-lg-9"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-5"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-6"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"col-lg-1"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-7"&gt;&lt;/a&gt;            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"{% url 'personas:reporte_personas_excel' %}"&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"btn btn-info btn-block"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-8"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"glyphicon glyphicon-list-alt"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-9"&gt;&lt;/a&gt;            &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-10"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-11"&gt;&lt;/a&gt;        {% if perms.personas.add_persona %}
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-12"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"col-lg-1"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-13"&gt;&lt;/a&gt;            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"{% url 'personas:crear_persona' %}"&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"btn btn-info btn-block"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-14"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"glyphicon glyphicon-plus"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-15"&gt;&lt;/a&gt;            &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-16"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-17"&gt;&lt;/a&gt;        {% endif %}
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-18"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"col-lg-1"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-19"&gt;&lt;/a&gt;            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"{% url 'personas:reporte_personas_pdf' %}"&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"btn btn-info btn-block"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-20"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"glyphicon glyphicon-file"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-21"&gt;&lt;/a&gt;            &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-22"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-23"&gt;&lt;/a&gt;    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b72bf9d87de2466aa62d45c3dd70a23a-24"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Nos tiene que aparecer un ícono de un archivo:&lt;/p&gt;
&lt;img alt="/images/blog/personas_pdf.jpg" src="http://pythonpiura.org/images/blog/personas_pdf.jpg"&gt;
&lt;p&gt;El primer resultado será este:&lt;/p&gt;
&lt;img alt="/images/blog/reporte_pdf1.jpg" src="http://pythonpiura.org/images/blog/reporte_pdf1.jpg"&gt;
&lt;p&gt;Vamos a ponerle un encabezado a nuestro reporte que diga “Python
Piura” y debajo “Reporte de Personas”, para ello colocamos el
siguiente código debajo de la última linea del método “cabecera”:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_8b075459fed94bb1adf6fe764d69635f-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#Establecemos el tamaño de letra en 16 y el tipo de letra Helvetica&lt;/span&gt;
&lt;a name="rest_code_8b075459fed94bb1adf6fe764d69635f-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setFont&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Helvetica"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_8b075459fed94bb1adf6fe764d69635f-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#Dibujamos una cadena en la ubicación X,Y especificada&lt;/span&gt;
&lt;a name="rest_code_8b075459fed94bb1adf6fe764d69635f-4"&gt;&lt;/a&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drawString&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;230&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;790&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;u"PYTHON PIURA"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_8b075459fed94bb1adf6fe764d69635f-5"&gt;&lt;/a&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setFont&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Helvetica"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_8b075459fed94bb1adf6fe764d69635f-6"&gt;&lt;/a&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drawString&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;770&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;u"REPORTE DE PERSONAS"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;img alt="/images/blog/reporte_pdf2.jpg" src="http://pythonpiura.org/images/blog/reporte_pdf2.jpg"&gt;
&lt;p&gt;Visualizaremos la tabla de personas, por lo que creamos el método
tabla en la clase ReportePersonasPDF:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;tabla&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-2"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Creamos una tupla de encabezados para neustra tabla&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-3"&gt;&lt;/a&gt;        &lt;span class="n"&gt;encabezados&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'DNI'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Nombre'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Apellido Paterno'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Apellido Materno'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-4"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Creamos una lista de tuplas que van a contener a las personas&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-5"&gt;&lt;/a&gt;        &lt;span class="n"&gt;detalles&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;persona&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dni&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;persona&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nombre&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;persona&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apellido_paterno&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;persona&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apellido_materno&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;persona&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;Persona&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="p"&gt;()]&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-6"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Establecemos el tamaño de cada una de las columnas de la tabla&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-7"&gt;&lt;/a&gt;        &lt;span class="n"&gt;detalle_orden&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Table&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;encabezados&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;detalles&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;colWidths&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-8"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Aplicamos estilos a las celdas de la tabla&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-9"&gt;&lt;/a&gt;        &lt;span class="n"&gt;detalle_orden&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setStyle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TableStyle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-10"&gt;&lt;/a&gt;        &lt;span class="p"&gt;[&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-11"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#La primera fila(encabezados) va a estar centrada&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-12"&gt;&lt;/a&gt;                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'ALIGN'&lt;/span&gt;&lt;span class="p"&gt;,(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="s1"&gt;'CENTER'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-13"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Los bordes de todas las celdas serán de color negro y con un grosor de 1&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-14"&gt;&lt;/a&gt;                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'GRID'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;black&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-15"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#El tamaño de las letras de cada una de las celdas será de 10&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-16"&gt;&lt;/a&gt;                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'FONTSIZE'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-17"&gt;&lt;/a&gt;                &lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-18"&gt;&lt;/a&gt;        &lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-19"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Establecemos el tamaño de la hoja que ocupará la tabla&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-20"&gt;&lt;/a&gt;        &lt;span class="n"&gt;detalle_orden&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;wrapOn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;800&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;600&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-21"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Definimos la coordenada donde se dibujará la tabla&lt;/span&gt;
&lt;a name="rest_code_ff3cb90a32c84c3d8025dbe5e4a2a56c-22"&gt;&lt;/a&gt;        &lt;span class="n"&gt;detalle_orden&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drawOn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;60&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Veamos como queda nuestro método get ahora con la nueva llamada al
método tabla:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-2"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Indicamos el tipo de contenido a devolver, en este caso un pdf&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-3"&gt;&lt;/a&gt;        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HttpResponse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content_type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'application/pdf'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-4"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#La clase io.BytesIO permite tratar un array de bytes como un fichero binario, se utiliza como almacenamiento temporal&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-5"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;buffer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BytesIO&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-6"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Canvas nos permite hacer el reporte con coordenadas X y Y&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-7"&gt;&lt;/a&gt;        &lt;span class="n"&gt;pdf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;canvas&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Canvas&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-8"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Llamo al método cabecera donde están definidos los datos que aparecen en la cabecera del reporte.&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-9"&gt;&lt;/a&gt;        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cabecera&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-10"&gt;&lt;/a&gt;        &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;600&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-11"&gt;&lt;/a&gt;        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tabla&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-12"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Con show page hacemos un corte de página para pasar a la siguiente&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-13"&gt;&lt;/a&gt;        &lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;showPage&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-14"&gt;&lt;/a&gt;        &lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-15"&gt;&lt;/a&gt;        &lt;span class="n"&gt;pdf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getvalue&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-16"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-17"&gt;&lt;/a&gt;        &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_373e653f77774bdeac488c75e5e18b29-18"&gt;&lt;/a&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Y este será el resultado final:&lt;/p&gt;
&lt;img alt="/images/blog/reporte_pdf3.jpg" src="http://pythonpiura.org/images/blog/reporte_pdf3.jpg"&gt;
&lt;p&gt;Eso es todo por hoy.
Saludos.&lt;/p&gt;&lt;/div&gt;</description><category>Django</category><category>Python</category><category>reportlab</category><guid>http://pythonpiura.org/posts/2016/05/13/reporte-pdf-en-django-con-reportlab/</guid><pubDate>Sat, 14 May 2016 02:58:34 GMT</pubDate></item><item><title>Consulta DNI - RENIEC</title><link>http://pythonpiura.org/posts/2016/05/11/consulta-dni-reniec/</link><dc:creator>Comunidad Python Piura</dc:creator><description>&lt;div&gt;&lt;p&gt;En esta oportunidad vamos a hacer un ejemplo mas complejo, ya que el
captcha así lo amerita, nuestra página objetivo es la siguiente:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://cel.reniec.gob.pe/valreg/valreg.do"&gt;https://cel.reniec.gob.pe/valreg/valreg.do&lt;/a&gt;&lt;/p&gt;
&lt;img alt="/images/blog/reniec.jpg" src="http://pythonpiura.org/images/blog/reniec.jpg"&gt;
&lt;p&gt;En esta página podemos ingresar el número de DNI y obtener el nombre
completo del ciudadano. Como se ve en la imagen aquí nos enfrentamos a
un captcha mas completo y a un teclado dinámico compuesto de botones,
para romper este captcha tenemos que modificar la imagen para obtener
el texto correcto, eliminando las lineas que atraviesan las letras y
que tienen una tonalidad distinta de azul, el proceso no será 100%
seguro pero funciona en la mayoría de los casos:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-2"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-3"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium.webdriver.common.by&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;By&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-4"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium.webdriver.support.wait&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;WebDriverWait&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-5"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium.webdriver.support&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;expected_conditions&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;EC&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-7"&gt;&lt;/a&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-8"&gt;&lt;/a&gt;        &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;Image&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-9"&gt;&lt;/a&gt;&lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;ImportError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-10"&gt;&lt;/a&gt;        &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PIL&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-11"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pytesseract&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-12"&gt;&lt;/a&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-13"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;ir_reniec_web&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dni&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-14"&gt;&lt;/a&gt;        &lt;span class="n"&gt;fp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FirefoxProfile&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-15"&gt;&lt;/a&gt;        &lt;span class="n"&gt;driver&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Firefox&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-16"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Definimos nuestra página objetivo&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-17"&gt;&lt;/a&gt;        &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"https://cel.reniec.gob.pe/valreg/valreg.do"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-18"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-19"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Esperamos hasta que se cargue la imagen con el captcha&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-20"&gt;&lt;/a&gt;                &lt;span class="n"&gt;WebDriverWait&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;until&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EC&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;presence_of_element_located&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ID&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"imagcodigo"&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-21"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-22"&gt;&lt;/a&gt;                &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;"Element is not present"&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-23"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Hacemos la captura de pantalla correspondiente&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-24"&gt;&lt;/a&gt;        &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save_screenshot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"screenshot.png"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-25"&gt;&lt;/a&gt;        &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'screenshot.png'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-26"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Obtenemos el ancho y el largo de la imagen&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-27"&gt;&lt;/a&gt;        &lt;span class="n"&gt;ancho&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-28"&gt;&lt;/a&gt;        &lt;span class="n"&gt;alto&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-29"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Recortamos la parte del captcha teniendo en cuenta el ancho y el largo de la imagen&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-30"&gt;&lt;/a&gt;        &lt;span class="n"&gt;img_recortada&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;crop&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ancho&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;4.26&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;alto&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;3.64&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ancho&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.8&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;alto&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-31"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Guardamos el recorte&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-32"&gt;&lt;/a&gt;        &lt;span class="n"&gt;img_recortada&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"recorte.png"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-33"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Recorremos cada uno de los dígitos del DNI&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-34"&gt;&lt;/a&gt;        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;dni&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-35"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Buscamos el boton que tenga como nombre tecla_0&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-36"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_0"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-37"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el valor del botón con nombre tecla_0&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-38"&gt;&lt;/a&gt;                &lt;span class="n"&gt;valor_0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boton_0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-39"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Buscamos el boton que tenga como nombre tecla_1&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-40"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_1"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-41"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el valor del botón con nombre tecla_1&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-42"&gt;&lt;/a&gt;                &lt;span class="n"&gt;valor_1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boton_1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-43"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Buscamos el boton que tenga como nombre tecla_2&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-44"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_2"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-45"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el valor del botón con nombre tecla_2&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-46"&gt;&lt;/a&gt;                &lt;span class="n"&gt;valor_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boton_2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-47"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Buscamos el boton que tenga como nombre tecla_3&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-48"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_3"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-49"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el valor del botón con nombre tecla_3&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-50"&gt;&lt;/a&gt;                &lt;span class="n"&gt;valor_3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boton_3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-51"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Buscamos el boton que tenga como nombre tecla_4&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-52"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_4"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-53"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el valor del botón con nombre tecla_4&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-54"&gt;&lt;/a&gt;                &lt;span class="n"&gt;valor_4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boton_4&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-55"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Buscamos el boton que tenga como nombre tecla_5&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-56"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_5&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_5"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-57"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el valor del botón con nombre tecla_5&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-58"&gt;&lt;/a&gt;                &lt;span class="n"&gt;valor_5&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boton_5&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-59"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Buscamos el boton que tenga como nombre tecla_6&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-60"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_6&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_6"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-61"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el valor del botón con nombre tecla_6&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-62"&gt;&lt;/a&gt;                &lt;span class="n"&gt;valor_6&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boton_6&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-63"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Buscamos el boton que tenga como nombre tecla_7&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-64"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_7&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_7"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-65"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el valor del botón con nombre tecla_7&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-66"&gt;&lt;/a&gt;                &lt;span class="n"&gt;valor_7&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boton_7&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-67"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Buscamos el boton que tenga como nombre tecla_8&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-68"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_8&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_8"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-69"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el valor del botón con nombre tecla_8&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-70"&gt;&lt;/a&gt;                &lt;span class="n"&gt;valor_8&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boton_8&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-71"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Buscamos el boton que tenga como nombre tecla_9&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-72"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_9&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_9"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-73"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el valor del botón con nombre tecla_9&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-74"&gt;&lt;/a&gt;                &lt;span class="n"&gt;valor_9&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boton_9&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-75"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Consultamos si el dígito del DNI es igual al valor del botón, si es el caso entonces se da click en ese botón&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-76"&gt;&lt;/a&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;valor_0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-77"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-78"&gt;&lt;/a&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;valor_1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-79"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_1"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-80"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-81"&gt;&lt;/a&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;valor_2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-82"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_2"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-83"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-84"&gt;&lt;/a&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;valor_3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-85"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_3"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-86"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-87"&gt;&lt;/a&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;valor_4&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-88"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_4"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-89"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_4&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-90"&gt;&lt;/a&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;valor_5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-91"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_5&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_5"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-92"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_5&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-93"&gt;&lt;/a&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;valor_6&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-94"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_6&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_6"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-95"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_6&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-96"&gt;&lt;/a&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;valor_7&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-97"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_7&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_7"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-98"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_7&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-99"&gt;&lt;/a&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;valor_8&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-100"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_8&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_8"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-101"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_8&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-102"&gt;&lt;/a&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;valor_9&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-103"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_9&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tecla_9"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-104"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_9&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-105"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Se llama al método romper_captcha para obtener el texto correspondiente&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-106"&gt;&lt;/a&gt;        &lt;span class="n"&gt;captcha&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;romper_captcha&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"recorte.png"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-107"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-108"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos la caja de texto donde se escribe el texto del captcha&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-109"&gt;&lt;/a&gt;                &lt;span class="n"&gt;codigo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"imagen"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-110"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Si el captcha está vacio o no se ha logrado romper se cierra el navegador y se termina la aplicación&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-111"&gt;&lt;/a&gt;                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;captcha&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-112"&gt;&lt;/a&gt;                        &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-113"&gt;&lt;/a&gt;                        &lt;span class="k"&gt;return&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-114"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Escribimos el texto&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-115"&gt;&lt;/a&gt;                &lt;span class="n"&gt;codigo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send_keys&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;captcha&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-116"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-117"&gt;&lt;/a&gt;                &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-118"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-119"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el botón de consulta&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-120"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_consultar&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"bot_consultar"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-121"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Damos click al botón de consulta&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-122"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton_consultar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-123"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-124"&gt;&lt;/a&gt;                &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;"Element is not present"&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-125"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Obtengo el resultado que aparece en el elemento llamado style2&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-126"&gt;&lt;/a&gt;        &lt;span class="n"&gt;resultado&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_class_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"style2"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-127"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Partimos el resultado para obtener el nombre&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-128"&gt;&lt;/a&gt;        &lt;span class="n"&gt;nombre&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;resultado&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-129"&gt;&lt;/a&gt;        &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-130"&gt;&lt;/a&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;nombre&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-131"&gt;&lt;/a&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-132"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;romper_captcha&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nombre_imagen&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-133"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Abro la imagen&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-134"&gt;&lt;/a&gt;        &lt;span class="n"&gt;img&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nombre_imagen&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-135"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Obtengo un arreglo de píxeles de la imagen&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-136"&gt;&lt;/a&gt;        &lt;span class="n"&gt;pixdata&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-137"&gt;&lt;/a&gt;        &lt;span class="sd"&gt;"""Modifico los píxeles de la imagen de acuerdo al análisis de los&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-138"&gt;&lt;/a&gt;&lt;span class="sd"&gt;        colores de las letras y las lineas que cruzan el texto, pintando de negro los píxeles del&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-139"&gt;&lt;/a&gt;&lt;span class="sd"&gt;        texto y de blanco las lineas"""&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-140"&gt;&lt;/a&gt;        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]):&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-141"&gt;&lt;/a&gt;                &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]):&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-142"&gt;&lt;/a&gt;                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;pixdata&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;146&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-143"&gt;&lt;/a&gt;                                &lt;span class="n"&gt;pixdata&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-144"&gt;&lt;/a&gt;        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]):&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-145"&gt;&lt;/a&gt;                &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]):&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-146"&gt;&lt;/a&gt;                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;pixdata&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;     &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;64&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-147"&gt;&lt;/a&gt;                                &lt;span class="n"&gt;pixdata&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-148"&gt;&lt;/a&gt;                        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-149"&gt;&lt;/a&gt;                                &lt;span class="n"&gt;pixdata&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-150"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Guardo la imagen modificada&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-151"&gt;&lt;/a&gt;        &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"modificado.jpg"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-152"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Abro la imagen modificado&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-153"&gt;&lt;/a&gt;        &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"modificado.jpg"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-154"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Obtenemos el texto de la imagen&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-155"&gt;&lt;/a&gt;        &lt;span class="n"&gt;frase&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pytesseract&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;image_to_string&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-156"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Retornamos el texto eliminado los espacios en blanco entre las palabras y convirtiendolas en mayúsculas&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-157"&gt;&lt;/a&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;frase&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;' '&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;upper&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-158"&gt;&lt;/a&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-159"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-160"&gt;&lt;/a&gt;        &lt;span class="n"&gt;dni&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'123456789'&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-161"&gt;&lt;/a&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;ir_reniec_web&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dni&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-162"&gt;&lt;/a&gt;
&lt;a name="rest_code_1c67b3fa95ee4702baaa71602a4dfa4b-163"&gt;&lt;/a&gt;&lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Espero que les sea útil.
Saludos.&lt;/p&gt;&lt;/div&gt;</description><category>pillow</category><category>pytesseract</category><category>Python</category><category>Selenium</category><guid>http://pythonpiura.org/posts/2016/05/11/consulta-dni-reniec/</guid><pubDate>Thu, 12 May 2016 02:37:08 GMT</pubDate></item><item><title>Otro Ejemplo de Web Scrapping con Python</title><link>http://pythonpiura.org/posts/2016/05/10/otro-ejemplo-de-web-scrapping-con-python/</link><dc:creator>Comunidad Python Piura</dc:creator><description>&lt;div&gt;&lt;p&gt;En esta oportunidad vamos a compartir con ustedes un nuevo script para
consultar rucs de manera masiva a partir del DNI en la página web de
sunat, esto ha sido un poco mas complejo debido a que la página en
cuestión usa frames, también hemos mejorado un poquito el problema de
los tamaños haciendo el recorte a partir del tamaño de la captura de
pantalla:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-2"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-3"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium.webdriver.common.by&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;By&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-4"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium.webdriver.support.wait&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;WebDriverWait&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-5"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium.webdriver.support&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;expected_conditions&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;EC&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-6"&gt;&lt;/a&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-7"&gt;&lt;/a&gt;        &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;Image&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-8"&gt;&lt;/a&gt;&lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;ImportError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-9"&gt;&lt;/a&gt;        &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PIL&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-10"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pytesseract&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-11"&gt;&lt;/a&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-12"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;ir_sunat_web&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dni&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-13"&gt;&lt;/a&gt;        &lt;span class="n"&gt;driver&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Firefox&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-14"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Fijamos nuestra página objetivo&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-15"&gt;&lt;/a&gt;        &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"http://ww1.sunat.gob.pe/cl-ti-itmrconsruc/jcrS00Alias"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-16"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-17"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Debido a que la página tiene frames debemos hacer el cambio al frame con nombre "leftFrame"&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-18"&gt;&lt;/a&gt;                &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;switch_to_frame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"leftFrame"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-19"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-20"&gt;&lt;/a&gt;                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-21"&gt;&lt;/a&gt;                &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-22"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-23"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos los radio buttons que nos permiten seleccionar el tipo de búsqueda a hacer&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-24"&gt;&lt;/a&gt;                &lt;span class="n"&gt;radios&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_elements_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"tQuery"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-25"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Seleccionamos la búsqueda por DNI&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-26"&gt;&lt;/a&gt;                &lt;span class="n"&gt;radios&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-27"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos la caja de texto donde se ingresa el DNI&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-28"&gt;&lt;/a&gt;                &lt;span class="n"&gt;documento&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"search2"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-29"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Escribimos el DNI&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-30"&gt;&lt;/a&gt;                &lt;span class="n"&gt;documento&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send_keys&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dni&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-31"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Esperamos hasta que el texto esté escrito en la caja de texto del DNI&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-32"&gt;&lt;/a&gt;                &lt;span class="n"&gt;WebDriverWait&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;until&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EC&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text_to_be_present_in_element_value&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"search2"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;dni&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-33"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-34"&gt;&lt;/a&gt;                &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-35"&gt;&lt;/a&gt;                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-36"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-37"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Esperamos hasta que se cargue la imagen con el captcha&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-38"&gt;&lt;/a&gt;                &lt;span class="n"&gt;WebDriverWait&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;until&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EC&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;presence_of_element_located&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"imagen"&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-39"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Hacemos la captura de pantalla correspondiente&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-40"&gt;&lt;/a&gt;                &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save_screenshot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"screenshot.jpg"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-41"&gt;&lt;/a&gt;                &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'screenshot.jpg'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-42"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el ancho y el largo de la imagen&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-43"&gt;&lt;/a&gt;                &lt;span class="n"&gt;ancho&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-44"&gt;&lt;/a&gt;                &lt;span class="n"&gt;alto&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-45"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Recortamos la parte del captcha teniendo en cuenta el ancho y el largo de la imagen&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-46"&gt;&lt;/a&gt;                &lt;span class="n"&gt;img_recortada&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;crop&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;ancho&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;1.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;alto&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ancho&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;1.25&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;alto&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;6.9&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-47"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Guardamos el recorte&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-48"&gt;&lt;/a&gt;                &lt;span class="n"&gt;img_recortada&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"recorte.jpg"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-49"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el texto del captcha&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-50"&gt;&lt;/a&gt;                &lt;span class="n"&gt;captcha&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pytesseract&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;image_to_string&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img_recortada&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-51"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos la caja de texto donde se escribe el texto del captcha&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-52"&gt;&lt;/a&gt;                &lt;span class="n"&gt;codigo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"codigo"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-53"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Escribimos el texto&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-54"&gt;&lt;/a&gt;                &lt;span class="n"&gt;codigo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send_keys&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;captcha&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-55"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-56"&gt;&lt;/a&gt;                &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-57"&gt;&lt;/a&gt;                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-58"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-59"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el botón de búsqueda&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-60"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_class_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"form-button"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-61"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Damos click al botón de búsqueda&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-62"&gt;&lt;/a&gt;                &lt;span class="n"&gt;boton&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-63"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Cambiamos al frame por defecto&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-64"&gt;&lt;/a&gt;                &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;switch_to_default_content&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-65"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Cambiamos al frame llamado "mainFrame" que contiene la tabla de resultados con un enlace conteniendo el ruc&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-66"&gt;&lt;/a&gt;                &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;switch_to_frame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"mainFrame"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-67"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-68"&gt;&lt;/a&gt;                &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-69"&gt;&lt;/a&gt;                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-70"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-71"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Esperamos que se cargue la tabla de resultados&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-72"&gt;&lt;/a&gt;                &lt;span class="n"&gt;WebDriverWait&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;until&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EC&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;presence_of_element_located&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CLASS_NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"form-table"&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-73"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos el enlace que contiene al RUC&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-74"&gt;&lt;/a&gt;                &lt;span class="n"&gt;enlace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TAG_NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-75"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Le damos click al enlace&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-76"&gt;&lt;/a&gt;                &lt;span class="n"&gt;enlace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-77"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Ahora si tenemos una tabla que contiene el detalle de los resultados del RUC consultado&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-78"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos todas las filas&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-79"&gt;&lt;/a&gt;                &lt;span class="n"&gt;trs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_elements&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TAG_NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"tr"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-80"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos las celdas de la primera fila&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-81"&gt;&lt;/a&gt;                &lt;span class="n"&gt;tds&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;trs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_elements&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TAG_NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"td"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-82"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#A la segunda celda la partimos ya que tiene el ruc y la razón social separados por un guión&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-83"&gt;&lt;/a&gt;                &lt;span class="n"&gt;primera_linea&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tds&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'-'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-84"&gt;&lt;/a&gt;                &lt;span class="n"&gt;ruc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;primera_linea&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-85"&gt;&lt;/a&gt;                &lt;span class="n"&gt;razon_social&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;primera_linea&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-86"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos la segunda linea que tiene el tipo de contribuyente&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-87"&gt;&lt;/a&gt;                &lt;span class="n"&gt;tds&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;trs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_elements&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TAG_NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"td"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-88"&gt;&lt;/a&gt;                &lt;span class="n"&gt;tipo_contribuyente&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tds&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-89"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;#Obtenemos la dirección&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-90"&gt;&lt;/a&gt;                &lt;span class="n"&gt;tds&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;trs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_elements&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TAG_NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"td"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-91"&gt;&lt;/a&gt;                &lt;span class="n"&gt;direccion&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tds&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-92"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-93"&gt;&lt;/a&gt;                &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-94"&gt;&lt;/a&gt;                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-95"&gt;&lt;/a&gt;        &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-96"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Devolvemos una lista con los resultados.&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-97"&gt;&lt;/a&gt;        &lt;span class="n"&gt;datos&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ruc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;razon_social&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;tipo_contribuyente&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;direccion&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-98"&gt;&lt;/a&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;datos&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-99"&gt;&lt;/a&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-100"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-101"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;#Ingresar DNI&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-102"&gt;&lt;/a&gt;        &lt;span class="n"&gt;dni&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'12345678'&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-103"&gt;&lt;/a&gt;        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;ir_sunat_web&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dni&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-104"&gt;&lt;/a&gt;
&lt;a name="rest_code_06314a8f15c343409ab8452e3aeb65e5-105"&gt;&lt;/a&gt;&lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;iframe width="459" height="344" src="https://www.youtube.com/embed/ijICFYtAuDE?feature=oembed" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;&lt;p&gt;Esperamos que les sea útil.
Saludos.&lt;/p&gt;&lt;/div&gt;</description><category>Django</category><category>pytesseract</category><category>Selenium</category><guid>http://pythonpiura.org/posts/2016/05/10/otro-ejemplo-de-web-scrapping-con-python/</guid><pubDate>Wed, 11 May 2016 04:35:39 GMT</pubDate></item><item><title>Fotos Charla Web Scrapping con Python y Selenium</title><link>http://pythonpiura.org/posts/2016/05/09/fotos-charla-web-scrapping-con-python-y-selenium/</link><dc:creator>Comunidad Python Piura</dc:creator><description>&lt;span&gt;&lt;img alt="/images/blog/p5070212.jpg" src="http://pythonpiura.org/images/blog/p5070212.jpg"&gt;
&lt;img alt="/images/blog/p5070204.jpg" src="http://pythonpiura.org/images/blog/p5070204.jpg"&gt;
&lt;img alt="/images/blog/p5070208.jpg" src="http://pythonpiura.org/images/blog/p5070208.jpg"&gt;
&lt;img alt="/images/blog/p5070209.jpg" src="http://pythonpiura.org/images/blog/p5070209.jpg"&gt;
&lt;img alt="/images/blog/p5070210.jpg" src="http://pythonpiura.org/images/blog/p5070210.jpg"&gt;
&lt;img alt="/images/blog/p5070211.jpg" src="http://pythonpiura.org/images/blog/p5070211.jpg"&gt;&lt;/span&gt;</description><category>Círculo</category><guid>http://pythonpiura.org/posts/2016/05/09/fotos-charla-web-scrapping-con-python-y-selenium/</guid><pubDate>Mon, 09 May 2016 20:52:18 GMT</pubDate></item><item><title>Web Scrapping con Python y Selenium</title><link>http://pythonpiura.org/posts/2016/05/07/web-scrapping-con-python-y-selenium/</link><dc:creator>Comunidad Python Piura</dc:creator><description>&lt;div&gt;&lt;p&gt;El día de hoy tuvimos el agrado de ser invitados por el &lt;a class="reference external" href="https://cideuel.wordpress.com/"&gt;Círculo UEL&lt;/a&gt;
a dar una charla en el marco del FLISOL 2016 en la Universidad Los
Ángeles de Chimbote Sede Piura y el tema fue Web Scrapping con Python
y Selenium, hicimos algunos ejemplos muy interesantes y nos encantó la
acogida del público y el interés suscitado, vamos a compartir los
artículos que usamos:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://pythonpiura.wordpress.com/2014/09/18/selenium-con-python/"&gt;Selenium con Python&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://pythonpiura.wordpress.com/2016/01/26/romper-captchas-con-pytesseract-y-selenium/"&gt;Romper Captchas con Pytesseract y Selenium&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Las diapositivas:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://pythonpiura.org/recursos/charlapythonflisol2016.pdf"&gt;Descargar&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;El script que fue la estrella de la mañana:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-2"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-3"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium.webdriver.common.by&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;By&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-4"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium.webdriver.support.wait&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;WebDriverWait&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-5"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium.webdriver.support&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;expected_conditions&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;EC&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-6"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-7"&gt;&lt;/a&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-8"&gt;&lt;/a&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-9"&gt;&lt;/a&gt;        &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;Image&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-10"&gt;&lt;/a&gt;&lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;ImportError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-11"&gt;&lt;/a&gt;        &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PIL&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-12"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pytesseract&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-13"&gt;&lt;/a&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-14"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;decodifica_campo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;campo&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-15"&gt;&lt;/a&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s2"&gt;u"&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;campo&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-16"&gt;&lt;/a&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-17"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;ir_sunat_web&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ruta&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-18"&gt;&lt;/a&gt;        &lt;span class="n"&gt;fp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FirefoxProfile&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-19"&gt;&lt;/a&gt;        &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_preference&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"browser.download.manager.showWhenStarting"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-20"&gt;&lt;/a&gt;        &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_preference&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"browser.download.manager.closeWhenDone"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-21"&gt;&lt;/a&gt;        &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_preference&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"browser.download.manager.showAlertOnComplete"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-22"&gt;&lt;/a&gt;        &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_preference&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"browser.helperApps.neverAsk.saveToDisk"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"application/zip"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-23"&gt;&lt;/a&gt;        &lt;span class="n"&gt;driver&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Firefox&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-24"&gt;&lt;/a&gt;        &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"http://www.sunat.gob.pe/cl-ti-itmrconsmulruc/jrmS00Alias"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-25"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-26"&gt;&lt;/a&gt;                &lt;span class="n"&gt;WebDriverWait&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;until&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EC&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;presence_of_element_located&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"imagen"&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-27"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-28"&gt;&lt;/a&gt;                &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;"No carga imagen"&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-29"&gt;&lt;/a&gt;        &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save_screenshot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"screenshot.png"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-30"&gt;&lt;/a&gt;        &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'screenshot.png'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-31"&gt;&lt;/a&gt;        &lt;span class="n"&gt;img_recortada&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;crop&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;700&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;309&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;800&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;361&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-32"&gt;&lt;/a&gt;        &lt;span class="n"&gt;img_recortada&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"recorte.png"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-33"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-34"&gt;&lt;/a&gt;                &lt;span class="n"&gt;captcha&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pytesseract&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;image_to_string&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img_recortada&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-35"&gt;&lt;/a&gt;                &lt;span class="n"&gt;codigo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"codigoA"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-36"&gt;&lt;/a&gt;                &lt;span class="n"&gt;codigo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send_keys&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;captcha&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-37"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-38"&gt;&lt;/a&gt;                &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-39"&gt;&lt;/a&gt;        &lt;span class="n"&gt;archivo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"archivo"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-40"&gt;&lt;/a&gt;        &lt;span class="n"&gt;archivo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send_keys&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ruta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-41"&gt;&lt;/a&gt;        &lt;span class="n"&gt;form&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element_by_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"frmConsMulRucArchivo"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-42"&gt;&lt;/a&gt;        &lt;span class="n"&gt;botones&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_elements_by_class_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"form-button"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-43"&gt;&lt;/a&gt;        &lt;span class="n"&gt;botones&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-44"&gt;&lt;/a&gt;        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-45"&gt;&lt;/a&gt;                &lt;span class="n"&gt;WebDriverWait&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;until&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EC&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;presence_of_all_elements_located&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CLASS_NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"form-table"&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-46"&gt;&lt;/a&gt;                &lt;span class="n"&gt;enlace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_element&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;By&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TAG_NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-47"&gt;&lt;/a&gt;                &lt;span class="n"&gt;enlace&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-48"&gt;&lt;/a&gt;        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-49"&gt;&lt;/a&gt;                &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;"Element is not present"&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-50"&gt;&lt;/a&gt;                &lt;span class="n"&gt;driver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-51"&gt;&lt;/a&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-52"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-53"&gt;&lt;/a&gt;        &lt;span class="n"&gt;ruta&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"/home/usuario/carpeta"&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-54"&gt;&lt;/a&gt;        &lt;span class="n"&gt;ruta_archivo&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ruta&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"rucs.zip"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-55"&gt;&lt;/a&gt;        &lt;span class="n"&gt;ir_sunat_web&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ruta_archivo&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-56"&gt;&lt;/a&gt;
&lt;a name="rest_code_927ded3618d14e56acf56703e4accbba-57"&gt;&lt;/a&gt;&lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Así como también un vídeo de su funcionamiento.&lt;/p&gt;
&lt;div class="youtube-video"&gt;
&lt;iframe width="425" height="344" src="https://www.youtube.com/embed/mUaVFYTlibM?rel=0&amp;amp;hd=1&amp;amp;wmode=transparent"&gt;&lt;/iframe&gt;
&lt;/div&gt;&lt;p&gt;Saludos y muchas gracias.&lt;/p&gt;&lt;/div&gt;</description><category>pillow</category><category>pytesseract</category><category>Python</category><category>Selenium</category><guid>http://pythonpiura.org/posts/2016/05/07/web-scrapping-con-python-y-selenium/</guid><pubDate>Sun, 08 May 2016 01:58:06 GMT</pubDate></item><item><title>Personalizando Permisos</title><link>http://pythonpiura.org/posts/2016/05/02/personalizando-permisos/</link><dc:creator>Comunidad Python Piura</dc:creator><description>&lt;div&gt;&lt;p&gt;Hasta ahora hemos trabajado con los permisos básicos que nos
proporciona Django de manera automática, pero que pasa si nosotros
quisieramos restringir cosas mas al detalle, por ejemplo que un
usuario determinado no vea el detalle de la persona, o la tabla que
lista a todas las personas, o que no pueda exportar a una hoja de
cálculo.
Empecemos por lo mas sencillo, creemos un permiso para restringir el
acceso al detalle de la persona, para ello personalizaremos los
permisos en el modelo, de la siguiente manera:&lt;/p&gt;
&lt;p&gt;models.py&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.db&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;
&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Create your models here.&lt;/span&gt;
&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-4"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Persona&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-5"&gt;&lt;/a&gt;        &lt;span class="n"&gt;dni&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CharField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;primary_key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-6"&gt;&lt;/a&gt;        &lt;span class="n"&gt;nombre&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CharField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-7"&gt;&lt;/a&gt;        &lt;span class="n"&gt;apellido_paterno&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CharField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-8"&gt;&lt;/a&gt;        &lt;span class="n"&gt;apellido_materno&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CharField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-9"&gt;&lt;/a&gt;
&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-10"&gt;&lt;/a&gt;        &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Meta&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_17d8c833d1274f3a9106fe4e34a9019f-11"&gt;&lt;/a&gt;                &lt;span class="n"&gt;permissions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;'ver_detalle_persona'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Puede ver detalle Persona'&lt;/span&gt;&lt;span class="p"&gt;),)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Veamos que hay de nuevo en nuestro modelo y lo primero que salta a la
vista es el uso de una &lt;a class="reference external" href="https://datafull.co/p/que-es-una-metaclase-en-python"&gt;metaclase&lt;/a&gt; aquí definiremos el atributo
permissions que es una tupla donde se definiran los múltiples permisos
personalizados que podemos crear en este caso tenemos el par
('ver_detalle_persona', 'Puede ver detalle Persona') donde
'ver_detalle_persona' es el nombre del permiso y 'Puede ver detalle
Persona' es una especie de descripción de lo que significa ese
permiso, ahora ya lo tenemos listo, pero no podemos aplicarlo
directamente sino que primero tenemos que hacer la migración
correspondiente a la base de datos, ya que ha ocurrido una
modificación del modelo:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_e39758b83d944e699fc455e0a1d0934b-1"&gt;&lt;/a&gt;python manage.py makemigrations personas
&lt;a name="rest_code_e39758b83d944e699fc455e0a1d0934b-2"&gt;&lt;/a&gt;python manage.py migrate
&lt;/pre&gt;&lt;p&gt;Ya con esto podemos usar el permiso, para ello modificaremos el
archivo personas.html:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_7a03c44d3ead41c0878816c27acd45dc-1"&gt;&lt;/a&gt;{% if perms.personas.ver_detalle_persona %}
&lt;a name="rest_code_7a03c44d3ead41c0878816c27acd45dc-2"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"btn btn-small"&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"{% url 'personas:detalle_persona' persona.pk %}"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_7a03c44d3ead41c0878816c27acd45dc-3"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"glyphicon glyphicon-folder-open"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_7a03c44d3ead41c0878816c27acd45dc-4"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_7a03c44d3ead41c0878816c27acd45dc-5"&gt;&lt;/a&gt;{% endif %}
&lt;/pre&gt;&lt;p&gt;Ahora nos logueamos con cualquiera de los usuarios nuevos que creamos
en la sesión pasada, en este caso lo haremos con usuario1:&lt;/p&gt;
&lt;img alt="/images/blog/sin_permiso_ver_persona.jpg" src="http://pythonpiura.org/images/blog/sin_permiso_ver_persona.jpg"&gt;
&lt;p&gt;Y vemos que no aparece el ícono del libro por lo tanto aparentemente
no podemos acceder al detalle de la persona, pero igual que la vez
pasada si es posible acceder a través de la url:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://localhost:8000/personas/detalle_persona/44626821/"&gt;http://localhost:8000/personas/detalle_persona/44626821/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Nos falta hacer lo mismo de antes en nuestra vista DetallePersona:&lt;/p&gt;
&lt;p&gt;views.py&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_a4cff8ae234f46549bf55705fdf052d0-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DetallePersona&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;DetailView&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_a4cff8ae234f46549bf55705fdf052d0-2"&gt;&lt;/a&gt;        &lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Persona&lt;/span&gt;
&lt;a name="rest_code_a4cff8ae234f46549bf55705fdf052d0-3"&gt;&lt;/a&gt;        &lt;span class="n"&gt;template_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'detalle_persona.html'&lt;/span&gt;
&lt;a name="rest_code_a4cff8ae234f46549bf55705fdf052d0-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_a4cff8ae234f46549bf55705fdf052d0-5"&gt;&lt;/a&gt;        &lt;span class="nd"&gt;@method_decorator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;permission_required&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'personas.ver_detalle_persona'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;reverse_lazy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'personas:personas'&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_a4cff8ae234f46549bf55705fdf052d0-6"&gt;&lt;/a&gt;        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;dispatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_a4cff8ae234f46549bf55705fdf052d0-7"&gt;&lt;/a&gt;                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;DetallePersona&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dispatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Listo ya con esto el usuario no puede ingresar al detalle de la
persona y es inmediatamente redireccionado a la tabla de personas,
ahora otorguemosle permisos al usuario1 a través de la interfaz de
administración:&lt;/p&gt;
&lt;img alt="/images/blog/permiso_ver_detalle_persona.jpg" src="http://pythonpiura.org/images/blog/permiso_ver_detalle_persona.jpg"&gt;
&lt;p&gt;Damos click en la flecha y guardamos la modificación, ahora ingresemos
a la aplicación personas con el usuario1 y nos debe salir una pantalla
como la siguiente:&lt;/p&gt;
&lt;img alt="/images/blog/con_permiso_ver_persona.jpg" src="http://pythonpiura.org/images/blog/con_permiso_ver_persona.jpg"&gt;
&lt;p&gt;Eso es todo por hoy, en un proximo post terminaremos de personalizar
el resto de permisos y hacerle algunas modificaciones estéticas a
nuestro proyecto.
Saludos.&lt;/p&gt;&lt;/div&gt;</description><category>Círculo</category><guid>http://pythonpiura.org/posts/2016/05/02/personalizando-permisos/</guid><pubDate>Tue, 03 May 2016 02:13:53 GMT</pubDate></item><item><title>Aplicar Permisos por Usuario en Django</title><link>http://pythonpiura.org/posts/2016/04/28/permisos-basicos-en-django/</link><dc:creator>Comunidad Python Piura</dc:creator><description>&lt;div&gt;&lt;p&gt;Hasta ahora solo hemos trabajado con un usuario(el superusuario que
creamos al principio) en nuestro proyecto, pero en la vida real son
muchos los usuarios que interactuan con el software y todos no cuentan
con los mismos permisos, hay algunos que pueden crear, ver, editar o
eliminar elementos y otros no. Para empezar a trabajar con permisos
primero debemos crear algunos usuarios adicionales, para ello vamos a
ingresar a la consola de administración de Django, poniendo lo
siguiente en nuestra barra de direcciones:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://localhost:8000/admin"&gt;http://localhost:8000/admin&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A continuación veremos una pantalla como esta:&lt;/p&gt;
&lt;img alt="/images/blog/login_administracion.jpg" src="http://pythonpiura.org/images/blog/login_administracion.jpg"&gt;
&lt;p&gt;Aquí nos logueamos usando el superusuario con el que hemos venido
trabajando y tendremos una pantalla como esta:&lt;/p&gt;
&lt;img alt="/images/blog/admin_django.jpg" src="http://pythonpiura.org/images/blog/admin_django.jpg"&gt;
&lt;p&gt;En el enlace donde dice Users vamos a dar click en Add para crear
nuestro nuevo usuario, al que llamaremos usuario1:&lt;/p&gt;
&lt;img alt="/images/blog/crear_usuario.jpg" src="http://pythonpiura.org/images/blog/crear_usuario.jpg"&gt;
&lt;p&gt;Completamos los campos y le damos click a save:&lt;/p&gt;
&lt;img alt="/images/blog/usuario_creado.jpg" src="http://pythonpiura.org/images/blog/usuario_creado.jpg"&gt;
&lt;p&gt;Por ahora con esto es suficiente y ya tenemos nuestro usuario creado y
listo para usarlo, salimos dando click en logout y nos vamos al login
del proyecto para ingresar con nuestro nuevo usuario y la contraseña
que le hemos asignado:&lt;/p&gt;
&lt;img alt="/images/blog/nuevo_logueo.jpg" src="http://pythonpiura.org/images/blog/nuevo_logueo.jpg"&gt;
&lt;p&gt;En nuestra aplicación personas, con este usuario podemos hacer lo
mismo que con el usuario anterior, pero que pasa si nosotros queremos
restringir algunas cosas a este nuevo usuario, por ejemplo, no dejar
que este usuario cree ni modifique personas, pero que si pueda ver su
detalle y exportar el reporte en una hoja de calculo ¿Cómo hacemos
esto?
Con Django otra vez esto es muy sencillo y podemos definir diferentes
niveles de acceso, restringiendo las opciones en la plantilla html y
negando el acceso a la vista en cuestión, hagamos lo primero:&lt;/p&gt;
&lt;p&gt;Si queremos restringir el acceso a las opciones desde la plantilla
html, lo mas rápido que se nos ocurre es eliminar los íconos que nos
brindan esas opciones, esto lo podemos hacer usando los permisos
proporcionados por django de la siguiente manera:
Primero para restringir la visualización del ícono de crear personas:
personas.html&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_2bb54aeedfce4750972660d13e8177f8-1"&gt;&lt;/a&gt;{% if perms.personas.add_persona %}
&lt;a name="rest_code_2bb54aeedfce4750972660d13e8177f8-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_2bb54aeedfce4750972660d13e8177f8-3"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"col-lg-1"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2bb54aeedfce4750972660d13e8177f8-4"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"crear_detalle"&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"reporte_personas_excel' %}"&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"btn btn-info btn-block"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2bb54aeedfce4750972660d13e8177f8-5"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"glyphicon glyphicon-list-alt"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2bb54aeedfce4750972660d13e8177f8-6"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2bb54aeedfce4750972660d13e8177f8-7"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2bb54aeedfce4750972660d13e8177f8-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_2bb54aeedfce4750972660d13e8177f8-9"&gt;&lt;/a&gt;{% endif %}
&lt;/pre&gt;&lt;p&gt;Si observamos detenidamente hemos agregado en la parte superior del
div del enlace un condicional que utilizar una variable llamada perms,
en esta variable se almacenan los permisos de los que dispone el
usuario que ha iniciado sesión, luego de perms podemos observar el
nombre de la aplicación, en nuestro caso personas, y finalmente
tenemos el permiso llamado add y el modelo persona que configuran el
permiso add_persona, esta condificional nos dice, si el usuario tiene
el permiso add_persona, entonces se debe renderizar el div, sino no
hace nada.
Si ejecutamos nuestra aplicación observamos lo siguiente:&lt;/p&gt;
&lt;img alt="/images/blog/no_crear1.jpg" src="http://pythonpiura.org/images/blog/no_crear1.jpg"&gt;
&lt;p&gt;El ícono de agregar ya no aparece, pero todavía no podemos cantar
victoria, un usuario avispado puede recordar la url de creación de
personas y tipearla directamente en la barra de direcciones:&lt;/p&gt;
&lt;img alt="/images/blog/crear_persona.jpg" src="http://pythonpiura.org/images/blog/crear_persona.jpg"&gt;
&lt;p&gt;Mmmm, vemos que si puede ingresar ¿Cómo hacemos para restringir eso?
Nuestros viejos amigos los decoradores vuelven nuevamente a nuestro
auxilio, para ello debemos editar el archivo views.py:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.contrib.auth.decorators&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;permission_required&lt;/span&gt;
&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-2"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.utils.decorators&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;method_decorator&lt;/span&gt;
&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-3"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CrearPersona&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CreateView&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-4"&gt;&lt;/a&gt;        &lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Persona&lt;/span&gt;
&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-5"&gt;&lt;/a&gt;        &lt;span class="n"&gt;fields&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'dni'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'nombre'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'apellido_paterno'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'apellido_materno'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-6"&gt;&lt;/a&gt;        &lt;span class="n"&gt;template_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'crear_persona.html'&lt;/span&gt;
&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-7"&gt;&lt;/a&gt;        &lt;span class="n"&gt;success_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;reverse_lazy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'personas:personas'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-9"&gt;&lt;/a&gt;        &lt;span class="nd"&gt;@method_decorator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;permission_required&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'personas.add_persona'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;reverse_lazy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'personas:personas'&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-10"&gt;&lt;/a&gt;        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;dispatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_a02d9805131a4395ad6c8ab7682a16b4-11"&gt;&lt;/a&gt;                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CrearPersona&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dispatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Expliquemos esto que está un poco endiablado:
Un método sobre una clase no equivale realmente a una función
independiente, por lo que se debe transformar en un decorador primero,
el decorador @method_decorator transforma un decorador de una función
en un decorador de un método a fin de que puede ser usado sobre una
instancia de un método, en el caso de las vistas basadas en clase a
quien debemos aplicar el decorador es al método dispatch, en este
ejemplo, cada instancia de CrearPersona tendrá protección de
permission_required.
El punto de entrada as_view() crea una instancia de la clase y llama
al método dispatch(), (el despachador o resolvedor de URL) que busca
la petición para determinar si es un GET, POST, etc, y releva la
petición a un método que coincida con uno definido, o levante una
excepción HttpResponseNotAllowed si no encuentra coincidencias.
A la función permission_required se le deben pasar dos argumentos:
El primero es el permiso a verificar que en este caso es add_persona y
tiene la misma notación, primero la aplicación y luego el permiso.
El segundo es la url a donde debe ser direccionado el usuario en caso
de no tener el permiso necesario, en este caso a la url personas.&lt;/p&gt;
&lt;p&gt;Ahora pongamos nuevamente la url anterior y veamos que nos sale:&lt;/p&gt;
&lt;img alt="/images/blog/permiso_denegado.jpg" src="http://pythonpiura.org/images/blog/permiso_denegado.jpg"&gt;
&lt;p&gt;Bueno con esto ya nos aseguramos que el usuario “usuario1″ no va a
poder entrar de ninguna manera a la funcionalidad de creación de
personas, ahora lo que falta es aplicar lo mismo a la vista
ModificarPersona las demás vistas tendrá un tratamiento especial en un
artículo posterior:&lt;/p&gt;
&lt;p&gt;personas.html&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;tbody&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-2"&gt;&lt;/a&gt;{% for persona in personas %}
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-3"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-4"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;{{ persona.dni }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-5"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;{{ persona.nombre }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-6"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;{{ persona.apellido_paterno }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-7"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;{{ persona.apellido_materno }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-8"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"text-center"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-9"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"btn btn-small"&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"{% url personas:detalle_persona' persona.pk %}"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-10"&gt;&lt;/a&gt;                        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"glyphicon glyphicon-folder-open"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-11"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-12"&gt;&lt;/a&gt;                {% if perms.personas.change_persona %}
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-13"&gt;&lt;/a&gt;                        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"btn btn-small"&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"{% url 'personas:modificar_persona' persona.pk %}"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-14"&gt;&lt;/a&gt;                        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"glyphicon glyphicon-pencil"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-15"&gt;&lt;/a&gt;                        &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-16"&gt;&lt;/a&gt;                {% endif %}
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-17"&gt;&lt;/a&gt;                &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-18"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-19"&gt;&lt;/a&gt;{% endfor %}
&lt;a name="rest_code_47a694bae1be4fe7a8b95d4b8ac1287a-20"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;tbody&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;views.py&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_6564d19c510e43cfaa400b8e8e2a88ab-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ModificarPersona&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UpdateView&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_6564d19c510e43cfaa400b8e8e2a88ab-2"&gt;&lt;/a&gt;        &lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Persona&lt;/span&gt;
&lt;a name="rest_code_6564d19c510e43cfaa400b8e8e2a88ab-3"&gt;&lt;/a&gt;        &lt;span class="n"&gt;template_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'modificar_persona.html'&lt;/span&gt;
&lt;a name="rest_code_6564d19c510e43cfaa400b8e8e2a88ab-4"&gt;&lt;/a&gt;        &lt;span class="n"&gt;fields&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'dni'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'nombre'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'apellido_paterno'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'apellido_materno'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_6564d19c510e43cfaa400b8e8e2a88ab-5"&gt;&lt;/a&gt;        &lt;span class="n"&gt;success_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;reverse_lazy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'personas:personas'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_6564d19c510e43cfaa400b8e8e2a88ab-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_6564d19c510e43cfaa400b8e8e2a88ab-7"&gt;&lt;/a&gt;        &lt;span class="nd"&gt;@method_decorator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;permission_required&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'personas.change_persona'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;reverse_lazy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'personas:personas'&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_6564d19c510e43cfaa400b8e8e2a88ab-8"&gt;&lt;/a&gt;        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;dispatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_6564d19c510e43cfaa400b8e8e2a88ab-9"&gt;&lt;/a&gt;                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ModificarPersona&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dispatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Notamos que el permiso ahora se llama change_persona, detengamonos un
poco aquí y expliquemos esto, por defecto django aplica tres permisos
a cada uno de nuestros modelos: add, change y delete, que especifican
si un usuario puede crear, modificar o borrar un elemento de un modelo
dado, en este caso el modelo es persona.&lt;/p&gt;
&lt;p&gt;Si corremos nuestra proyecto tenemos lo siguiente:&lt;/p&gt;
&lt;img alt="/images/blog/sin_accesos.jpg" src="http://pythonpiura.org/images/blog/sin_accesos.jpg"&gt;
&lt;p&gt;Nótese que ya no aparece el lápiz de edición y tampoco se puede
acceder con el url de modificar directamente en la barra de
direcciones.&lt;/p&gt;
&lt;p&gt;Ahora vamos a crear un nuevo usuario llamado usuario2, al que si le
vamos a dar los permisos de crear y modificar, repetimos los pasos
para crear el usuario en la interfaz de administración y nos detenemos
en la ventana posterior a la creación del usuario, en la opción de
permisos:&lt;/p&gt;
&lt;img alt="/images/blog/permisos.jpg" src="http://pythonpiura.org/images/blog/permisos.jpg"&gt;
&lt;p&gt;En esta opción tenemos un sinnumero de permisos, busquemos los
relacionados a la aplicación personas y al modelo persona y los
seleccionamos:&lt;/p&gt;
&lt;img alt="/images/blog/seleccionar_permisos.jpg" src="http://pythonpiura.org/images/blog/seleccionar_permisos.jpg"&gt;
&lt;p&gt;Seleccionamos la flechita entre los dos cuadros y le damos al botón
Save:&lt;/p&gt;
&lt;img alt="/images/blog/escoger.jpg" src="http://pythonpiura.org/images/blog/escoger.jpg"&gt;
&lt;p&gt;Con esto ya tenemos que el usuario “usuario2″ tiene los permisos
asignados. Ahora salgamos de la interfaz de administración e
ingresemos a nuestro proyecto con el “usuario2″:&lt;/p&gt;
&lt;img alt="/images/blog/con_permisos.jpg" src="http://pythonpiura.org/images/blog/con_permisos.jpg"&gt;
&lt;p&gt;Listo ahora si el usuario2, ya tendrá estos permisos básicos y el
usuario1 no, el usuario mamaya es superusuario por lo tanto puede
ingresar donde quiera.&lt;/p&gt;
&lt;p&gt;Eso es todo.
Saludos.&lt;/p&gt;&lt;/div&gt;</description><category>Django</category><guid>http://pythonpiura.org/posts/2016/04/28/permisos-basicos-en-django/</guid><pubDate>Fri, 29 Apr 2016 03:33:04 GMT</pubDate></item><item><title>Mejorando Nuestro Login</title><link>http://pythonpiura.org/posts/2016/04/28/mejorando-nuestro-login/</link><dc:creator>Comunidad Python Piura</dc:creator><description>&lt;div&gt;&lt;p&gt;Este es un post pequeñito donde vamos a demostrar como mejorar nuestro
login que se ve un poco feo, para ello debemos crear un módulo de
Python llamado forms.py en nuestra aplicación seguridad:&lt;/p&gt;
&lt;img alt="/images/blog/forms.jpg" src="http://pythonpiura.org/images/blog/forms.jpg"&gt;
&lt;p&gt;Ahora vamos a crear una clase llamada FormularioLogin que va a heredar
de AuthenticationForm, la herencia en Python se determina poniendo la
clase de la que se va a heredar entre parentesis en la definición de
la clase hija:&lt;/p&gt;
&lt;p&gt;forms.py&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_76fd9d7b52ca4d6e86e996b102e45830-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.contrib.auth.forms&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;AuthenticationForm&lt;/span&gt;
&lt;a name="rest_code_76fd9d7b52ca4d6e86e996b102e45830-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_76fd9d7b52ca4d6e86e996b102e45830-3"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;FormularioLogin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AuthenticationForm&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_76fd9d7b52ca4d6e86e996b102e45830-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_76fd9d7b52ca4d6e86e996b102e45830-5"&gt;&lt;/a&gt;        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_76fd9d7b52ca4d6e86e996b102e45830-6"&gt;&lt;/a&gt;                &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FormularioLogin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_76fd9d7b52ca4d6e86e996b102e45830-7"&gt;&lt;/a&gt;                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fields&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'username'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;widget&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'class'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'form-control'&lt;/span&gt;
&lt;a name="rest_code_76fd9d7b52ca4d6e86e996b102e45830-8"&gt;&lt;/a&gt;                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fields&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'username'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;widget&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'placeholder'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'Usuario'&lt;/span&gt;
&lt;a name="rest_code_76fd9d7b52ca4d6e86e996b102e45830-9"&gt;&lt;/a&gt;                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fields&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'password'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;widget&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'class'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'form-control'&lt;/span&gt;
&lt;a name="rest_code_76fd9d7b52ca4d6e86e996b102e45830-10"&gt;&lt;/a&gt;                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fields&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'password'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;widget&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'placeholder'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'Contraseña'&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;¿Que cosa hemos hecho aquí?, sencillo hemos sobreescrito el
comportamiento de los campos del formulario AuthenticationForm,
expliquemos esto: primero se necesita acceder a cada uno de los campos
del formulario, estos son 'username' y 'password', y se accede a ellos
a través de la lista “fields”, luego accederemos a los widgets de cada
uno de estos campos, el widget es el elemento o etiqueta html que se
dibuja en el navegador, en este caso los dos son “input”, al ser
elementos html tienen atributos y cada atributo tiene un valor, en
este caso vamos a modificar los atributos “class” y “placeholder”, el
atributo class establece la clase CSS que se aplica a los estilos del
elemento y el atributo placeholder provee una ayuda a los usuarios
para indicar que cosa se debe escribir en las cajas de texto. Hemos
aplicado la clase &lt;a class="reference external" href="http://librosweb.es/libro/bootstrap_3/capitulo_5/campos_de_formulario.html"&gt;form-control&lt;/a&gt; de bootstrap, que sirve para mostrar
los elementos de un formulario mejor presentados, a ambos elementos y
hemos definido la ayuda que aparecerá en cada caja de texto.&lt;/p&gt;
&lt;p&gt;Recordemos que en nuestra vista Login el atributo form_class es
AuthenticationForm, ahora esto va a cambiar:&lt;/p&gt;
&lt;p&gt;views.py&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;seguridad.forms&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;FormularioLogin&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Create your views here.&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-4"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Login&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FormView&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-5"&gt;&lt;/a&gt;        &lt;span class="n"&gt;template_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'login.html'&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-6"&gt;&lt;/a&gt;        &lt;span class="n"&gt;form_class&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;FormularioLogin&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-7"&gt;&lt;/a&gt;        &lt;span class="n"&gt;success_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;reverse_lazy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"personas:bienvenida"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-9"&gt;&lt;/a&gt;        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;dispatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-10"&gt;&lt;/a&gt;                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;is_authenticated&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-11"&gt;&lt;/a&gt;                        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;HttpResponseRedirect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_success_url&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-12"&gt;&lt;/a&gt;                &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-13"&gt;&lt;/a&gt;                        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Login&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dispatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-14"&gt;&lt;/a&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-15"&gt;&lt;/a&gt;        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;form_valid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-16"&gt;&lt;/a&gt;                &lt;span class="n"&gt;login&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_user&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;a name="rest_code_894ecac2f07b4b7abaf30c96b7bccb38-17"&gt;&lt;/a&gt;                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Login&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;form_valid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Finalmente tendremos la siguiente presentación:&lt;/p&gt;
&lt;img alt="/images/blog/login_bonito.jpg" src="http://pythonpiura.org/images/blog/login_bonito.jpg"&gt;
&lt;p&gt;¿Mejor, verdad?, eso es todo por hoy.&lt;/p&gt;
&lt;p&gt;Saludos.&lt;/p&gt;&lt;/div&gt;</description><category>Círculo</category><guid>http://pythonpiura.org/posts/2016/04/28/mejorando-nuestro-login/</guid><pubDate>Fri, 29 Apr 2016 01:50:59 GMT</pubDate></item></channel></rss>