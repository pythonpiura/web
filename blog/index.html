<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="es">
<head>
<meta charset="utf-8">
<meta name="description" content="Comunidad Python Piura">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Python Piura</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="http://pythonpiura.org/blog/">
<link rel="next" href="index-3.html" type="text/html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Mostrar navegación</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://pythonpiura.org/">

                <span id="blog-title">Python Piura</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../blog">Blog</a>
                </li>
<li>
<a href="../eventos">Eventos</a>
                </li>
<li>
<a href="../recursos">Recursos</a>
                </li>
<li>
<a href="../contactenos">Contáctenos</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    
<div class="postindex">
    <article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="../posts/modales-en-django-con-vistas-basadas-en-clases-y-jquery-ui/" class="u-url">Modales en Django con Vistas Basadas en Clases y JQuery-UI</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Comunidad Python Piura
            </span></p>
            <p class="dateline"><a href="../posts/modales-en-django-con-vistas-basadas-en-clases-y-jquery-ui/" rel="bookmark"><time class="published dt-published" datetime="2017-05-17T21:02:54-05:00" title="2017-05-17 21:02">2017-05-17 21:02</time></a></p>
                <p class="commentline">
        
    <a href="../posts/modales-en-django-con-vistas-basadas-en-clases-y-jquery-ui/#disqus_thread" data-disqus-identifier="cache/posts/modales-en-django-con-vistas-basadas-en-clases-y-jquery-ui.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>En este post vamos a usar ventanas modales para poder hacer operaciones de visualización, creación y modificación de entidades.
Para este fin hemos creado un proyecto llamado "modales" y una aplicación "productos" donde vamos a tener el modelo Producto, para poder mostrar los modales haremos uso de la librería JQuery-UI y de bootstrap para ayudarnos con el diseño, jquery como librería javascript y Datatables para mostrar las tablas de la manera mas cómoda. Los pormenores de creación del proyecto y la correspondiente aplicación serán obviados por haber sido tratados en artículos anteriores.</p>
<p>Primero creamos nuestro archivo base.html que va a contener la carga de las librerias necesarias:</p>
<p>base.html</p>
<pre class="code html"><a name="rest_code_b330e8761e394c08a1d0876f7392eae2-1"></a><span class="cp">&lt;!DOCTYPE html&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-2"></a>{% load staticfiles %}
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-3"></a><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">"en"</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-4"></a><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-5"></a>    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-6"></a>    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Modales<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-7"></a>    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-8"></a>    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"viewport"</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-9"></a>    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"{% static 'css/bootstrap.min.css' %}"</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-10"></a>    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"{% static 'css/jquery-ui.css' %}"</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-11"></a>    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"{% static 'css/jquery.dataTables.min.css'  %}"</span><span class="p">/&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-12"></a>    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span> <span class="na">src</span><span class="o">=</span><span class="s">"{% static 'js/jquery.js' %}"</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-13"></a>    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span> <span class="na">src</span><span class="o">=</span><span class="s">"{% static 'js/bootstrap.min.js' %}"</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-14"></a>    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span> <span class="na">src</span><span class="o">=</span><span class="s">"{% static 'js/jquery-ui.js' %}"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-15"></a>    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span> <span class="na">src</span><span class="o">=</span><span class="s">"{% static 'js/jquery.dataTables.min.js' %}"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-16"></a><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-17"></a><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-18"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"page-wrapper"</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-19"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container-fluid"</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-20"></a>    {% block cuerpo %}
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-21"></a>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-22"></a>    {% endblock cuerpo %}
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-23"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-24"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-25"></a><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_b330e8761e394c08a1d0876f7392eae2-26"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre>
<p>Vamos a proceder a crear nuestras vistas en el archivos views.py:</p>
<p>views.py</p>
<pre class="code python"><a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-1"></a><span class="c1"># -*- coding: utf-8 -*-</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-2"></a><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-3"></a><span class="kn">from</span> <span class="nn">django.views.generic.edit</span> <span class="kn">import</span> <span class="n">UpdateView</span><span class="p">,</span> <span class="n">CreateView</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-4"></a><span class="kn">from</span> <span class="nn">django.views.generic.list</span> <span class="kn">import</span> <span class="n">ListView</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-5"></a><span class="kn">from</span> <span class="nn">productos.forms</span> <span class="kn">import</span> <span class="n">ProductoForm</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-6"></a><span class="kn">from</span> <span class="nn">productos.models</span> <span class="kn">import</span> <span class="n">Producto</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-7"></a><span class="kn">from</span> <span class="nn">django.core.urlresolvers</span> <span class="kn">import</span> <span class="n">reverse_lazy</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-8"></a><span class="kn">from</span> <span class="nn">django.views.generic.detail</span> <span class="kn">import</span> <span class="n">DetailView</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-9"></a>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-10"></a><span class="k">class</span> <span class="nc">ListadoProductos</span><span class="p">(</span><span class="n">ListView</span><span class="p">):</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-11"></a>    <span class="n">model</span> <span class="o">=</span> <span class="n">Producto</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-12"></a>    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">'productos.html'</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-13"></a>    <span class="n">context_object_name</span> <span class="o">=</span> <span class="s1">'productos'</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-14"></a>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-15"></a><span class="k">class</span> <span class="nc">CrearProducto</span><span class="p">(</span><span class="n">CreateView</span><span class="p">):</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-16"></a>    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">'producto.html'</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-17"></a>    <span class="n">form_class</span> <span class="o">=</span> <span class="n">ProductoForm</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-18"></a>    <span class="n">success_url</span> <span class="o">=</span> <span class="n">reverse_lazy</span><span class="p">(</span><span class="s1">'productos:listado_productos'</span><span class="p">)</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-19"></a>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-20"></a><span class="k">class</span> <span class="nc">ModificarProducto</span><span class="p">(</span><span class="n">UpdateView</span><span class="p">):</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-21"></a>    <span class="n">model</span> <span class="o">=</span> <span class="n">Producto</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-22"></a>    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">'producto.html'</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-23"></a>    <span class="n">form_class</span> <span class="o">=</span> <span class="n">ProductoForm</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-24"></a>    <span class="n">success_url</span> <span class="o">=</span> <span class="n">reverse_lazy</span><span class="p">(</span><span class="s1">'productos:listado_productos'</span><span class="p">)</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-25"></a>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-26"></a>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-27"></a><span class="k">class</span> <span class="nc">DetalleProducto</span><span class="p">(</span><span class="n">DetailView</span><span class="p">):</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-28"></a>    <span class="n">model</span> <span class="o">=</span> <span class="n">Producto</span>
<a name="rest_code_5a150e524b304fc4b9b4ef34716f4e38-29"></a>    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">'detalle_producto.html'</span>
</pre>
<p>La vista ListadoProductos es la vista principal de nuestra aplicación desde aquí vamos a interactuar con las demás vistas, como se ve todas están basadas en clases.</p>
<p>Debemos crear un formulario llamado ProductoForm para utilizarlo tanto en ModificarProducto como en CrearProducto:</p>
<p>forms.py</p>
<pre class="code python"><a name="rest_code_43620d4b17944fcc944907074e054160-1"></a><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-2"></a>
<a name="rest_code_43620d4b17944fcc944907074e054160-3"></a><span class="kn">from</span> <span class="nn">productos.models</span> <span class="kn">import</span> <span class="n">Producto</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-4"></a>
<a name="rest_code_43620d4b17944fcc944907074e054160-5"></a>
<a name="rest_code_43620d4b17944fcc944907074e054160-6"></a><span class="k">class</span> <span class="nc">ProductoForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-7"></a>
<a name="rest_code_43620d4b17944fcc944907074e054160-8"></a>    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-9"></a>        <span class="n">model</span> <span class="o">=</span> <span class="n">Producto</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-10"></a>        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'descripcion'</span><span class="p">,</span> <span class="s1">'marca'</span><span class="p">,</span> <span class="s1">'precio'</span><span class="p">,</span> <span class="s1">'estado'</span><span class="p">]</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-11"></a>
<a name="rest_code_43620d4b17944fcc944907074e054160-12"></a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-13"></a>        <span class="nb">super</span><span class="p">(</span><span class="n">ProductoForm</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-14"></a>        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">):</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-15"></a>            <span class="k">if</span> <span class="n">field</span> <span class="o">&lt;&gt;</span> <span class="s1">'estado'</span><span class="p">:</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-16"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="n">field</span><span class="p">]</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-17"></a>                    <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'form-control'</span>
<a name="rest_code_43620d4b17944fcc944907074e054160-18"></a>                <span class="p">})</span>
</pre>
<p>Ĺo único nuevo en la parte de los formularios es que estamos implementando el método __init__ para poder agregar la clase 'form-control' de bootstrap.</p>
<p>Ahora vamos a crear nuestro archivo urls.py:</p>
<pre class="code python"><a name="rest_code_9738dcb6ac8c466a9227ce29218289b6-1"></a><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">url</span>
<a name="rest_code_9738dcb6ac8c466a9227ce29218289b6-2"></a><span class="kn">from</span> <span class="nn">productos.views</span> <span class="kn">import</span> <span class="n">ListadoProductos</span><span class="p">,</span> <span class="n">CrearProducto</span><span class="p">,</span> <span class="n">ModificarProducto</span><span class="p">,</span> <span class="n">DetalleProducto</span>
<a name="rest_code_9738dcb6ac8c466a9227ce29218289b6-3"></a>
<a name="rest_code_9738dcb6ac8c466a9227ce29218289b6-4"></a><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
<a name="rest_code_9738dcb6ac8c466a9227ce29218289b6-5"></a>    <span class="n">url</span><span class="p">(</span><span class="s1">r'^$'</span><span class="p">,</span> <span class="n">ListadoProductos</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s2">"listado_productos"</span><span class="p">),</span>
<a name="rest_code_9738dcb6ac8c466a9227ce29218289b6-6"></a>    <span class="n">url</span><span class="p">(</span><span class="s1">r'^crear_producto/$'</span><span class="p">,</span> <span class="n">CrearProducto</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s2">"crear_producto"</span><span class="p">),</span>
<a name="rest_code_9738dcb6ac8c466a9227ce29218289b6-7"></a>    <span class="n">url</span><span class="p">(</span><span class="s1">r'^modificar_producto/(?P&lt;pk&gt;.+)/$'</span><span class="p">,</span><span class="n">ModificarProducto</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s2">"modificar_producto"</span><span class="p">),</span>
<a name="rest_code_9738dcb6ac8c466a9227ce29218289b6-8"></a>    <span class="n">url</span><span class="p">(</span><span class="s1">r'^detalle_producto/(?P&lt;pk&gt;.+)/$'</span><span class="p">,</span><span class="n">DetalleProducto</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s2">"detalle_producto"</span><span class="p">),</span>
<a name="rest_code_9738dcb6ac8c466a9227ce29218289b6-9"></a><span class="p">]</span>
</pre>
<p>Ahora si haremos nuestra plantilla principal, llamada productos.html, primero haremos la parte del html y luego la de javascript:</p>
<p>productos.html</p>
<pre class="code html"><a name="rest_code_1a491616cc0249f1b93284767f63669a-1"></a>{% extends "base.html" %}
<a name="rest_code_1a491616cc0249f1b93284767f63669a-2"></a>{% block cuerpo %}
<a name="rest_code_1a491616cc0249f1b93284767f63669a-3"></a><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Productos<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<a name="rest_code_1a491616cc0249f1b93284767f63669a-4"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"row"</span><span class="p">&gt;</span>
<a name="rest_code_1a491616cc0249f1b93284767f63669a-5"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"col-lg-10"</span><span class="p">&gt;</span>
<a name="rest_code_1a491616cc0249f1b93284767f63669a-6"></a>                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">onclick</span><span class="o">=</span><span class="s">"return abrir_modal('{% url 'productos:crear_producto' %}','Productos / Nuevo')"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-primary"</span><span class="p">&gt;</span>
<a name="rest_code_1a491616cc0249f1b93284767f63669a-7"></a>                        Crear
<a name="rest_code_1a491616cc0249f1b93284767f63669a-8"></a>                <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_1a491616cc0249f1b93284767f63669a-9"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_1a491616cc0249f1b93284767f63669a-10"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre>
<p>Aquí primero heredamos de base.html y luego tenemos un botón para crear un nuevo producto, para desplegar el modal se llama a la url correspondiente como primer argumento del método de javascript "abrir_modal" y como segundo el título del modal.:</p>
<pre class="code html"><a name="rest_code_352296a1401948418962be3559aee032-1"></a>onclick="return abrir_modal('{% url 'productos:crear_producto' %}','Productos / Nuevo')"
</pre>
<p>Sigamos viendo nuestro archivo productos.html:</p>
<pre class="code html"><a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-1"></a><span class="p">&lt;</span><span class="nt">hr</span><span class="p">/&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-2"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"row"</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-3"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"col-lg-12"</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-4"></a>                <span class="p">&lt;</span><span class="nt">table</span> <span class="na">id</span><span class="o">=</span><span class="s">"tabla"</span> <span class="na">class</span><span class="o">=</span><span class="s">"display"</span> <span class="na">cellspacing</span><span class="o">=</span><span class="s">"0"</span> <span class="na">width</span><span class="o">=</span><span class="s">"100%"</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-5"></a>                        <span class="p">&lt;</span><span class="nt">thead</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-6"></a>                                <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-7"></a>                                        <span class="p">&lt;</span><span class="nt">th</span> <span class="na">class</span><span class="o">=</span><span class="s">"text-center"</span><span class="p">&gt;</span>DESCRIPCION<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-8"></a>                                        <span class="p">&lt;</span><span class="nt">th</span> <span class="na">class</span><span class="o">=</span><span class="s">"text-center"</span><span class="p">&gt;</span>MARCA<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-9"></a>                                        <span class="p">&lt;</span><span class="nt">th</span> <span class="na">class</span><span class="o">=</span><span class="s">"text-center"</span><span class="p">&gt;</span>PRECIO<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-10"></a>                                        <span class="p">&lt;</span><span class="nt">th</span> <span class="na">class</span><span class="o">=</span><span class="s">"text-center"</span><span class="p">&gt;</span>ESTADO<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-11"></a>                                        <span class="p">&lt;</span><span class="nt">th</span> <span class="na">class</span><span class="o">=</span><span class="s">"text-center"</span><span class="p">&gt;</span>ACCIONES<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-12"></a>                                <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-13"></a>                        <span class="p">&lt;/</span><span class="nt">thead</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-14"></a>                        <span class="p">&lt;</span><span class="nt">tbody</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-15"></a>                        {% for producto in productos %}
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-16"></a>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-17"></a>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ producto.descripcion }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-18"></a>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ producto.marca }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-19"></a>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ producto.precio }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-20"></a>            {% if producto.estado %}
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-21"></a>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>ACTIVO<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-22"></a>            {% else %}
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-23"></a>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>INACTIVO<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-24"></a>            {% endif %}
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-25"></a>            <span class="p">&lt;</span><span class="nt">td</span> <span class="na">class</span><span class="o">=</span><span class="s">"text-center"</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-26"></a>                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">onclick</span><span class="o">=</span><span class="s">"return abrir_modal('{% url 'productos:detalle_producto' producto.pk %}','Productos / {{ producto.descripcion }}')"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn"</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-27"></a>                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"glyphicon glyphicon-eye-open"</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-28"></a>                <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-29"></a>                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">onclick</span><span class="o">=</span><span class="s">"return abrir_modal('{% url 'productos:modificar_producto' producto.pk %}','Productos / {{ producto.descripcion }}')"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn"</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-30"></a>                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"glyphicon glyphicon-edit"</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-31"></a>                <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-32"></a>            <span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-33"></a>                        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-34"></a>                        {% endfor %}
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-35"></a>                        <span class="p">&lt;/</span><span class="nt">tbody</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-36"></a>                <span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-37"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-38"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_f7b796b8745b4efa984d15e89e17a88e-39"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"popup"</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre>
<p>Tenemos la tabla con el listado de los productos ya creados junto con dos enlaces en cada fila de producto para poder desplegar el detalle y la modificación del mismo en los modales correspondientes, tal como se explico arriba, en la parte final vemos que para mostrar el modal usaremos el div con el id "popup".</p>
<p>Ahora vamos a ver la parte de javascript necesaria para poder mostrar el modal correspondiente:</p>
<pre class="code javascript"><a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-1"></a><span class="kd">var</span> <span class="nx">modal</span><span class="p">;</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-2"></a>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-3"></a><span class="kd">function</span> <span class="nx">abrir_modal</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">titulo</span><span class="p">)</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-4"></a><span class="p">{</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-5"></a>    <span class="nx">modal</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#popup'</span><span class="p">).</span><span class="nx">dialog</span><span class="p">(</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-6"></a>    <span class="p">{</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-7"></a>        <span class="nx">title</span><span class="o">:</span> <span class="nx">titulo</span><span class="p">,</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-8"></a>        <span class="nx">modal</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-9"></a>        <span class="nx">width</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-10"></a>        <span class="nx">resizable</span><span class="o">:</span> <span class="kc">false</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-11"></a>    <span class="p">}).</span><span class="nx">dialog</span><span class="p">(</span><span class="s1">'open'</span><span class="p">).</span><span class="nx">load</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-12"></a><span class="p">}</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-13"></a>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-14"></a><span class="kd">function</span> <span class="nx">cerrar_modal</span><span class="p">()</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-15"></a><span class="p">{</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-16"></a>    <span class="nx">modal</span><span class="p">.</span><span class="nx">dialog</span><span class="p">(</span><span class="s2">"close"</span><span class="p">);</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-17"></a><span class="p">}</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-18"></a>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-19"></a><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-20"></a><span class="p">{</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-21"></a>    <span class="kd">var</span> <span class="nx">table</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tabla'</span><span class="p">).</span><span class="nx">dataTable</span><span class="p">(</span> <span class="p">{</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-22"></a>        <span class="s2">"language"</span><span class="o">:</span> <span class="p">{</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-23"></a>                <span class="nx">url</span><span class="o">:</span> <span class="s2">"/static/localizacion/es_ES.json"</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-24"></a>        <span class="p">}</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-25"></a>    <span class="p">}</span> <span class="p">);</span>
<a name="rest_code_8ac1928e7d924f4b99f524522dda7ea6-26"></a><span class="p">});</span>
</pre>
<p>La función abrir_modal usa el método dialog() de JQuery-UI para mostrar un modal cuyo contenido en html va a ser cargado con el método load de acuerdo a la url que estemos tratando de visualizar. Este elemento se guarda en la variable modal.</p>
<p>La función cerrar_modal() utiliza la variable modal, para cerrar el dialogo pasando el parámetro "close".</p>
<p>Finalmente tenemos los templates correspondientes a detalle_producto.html y producto.html:</p>
<p>detalle_producto.html</p>
<pre class="code html"><a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-1"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"panel panel-default"</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-2"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"panel-body"</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-3"></a>                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"row"</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-4"></a>                        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"col-lg-7"</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-5"></a>                                <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>{{ object.descripcion }}<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-6"></a>                        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-7"></a>                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-8"></a>                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"row"</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-9"></a>                        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"col-lg-4"</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-10"></a>                                <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>MARCA:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-11"></a>                                <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ object.marca }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-12"></a>                                <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>PRECIO:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-13"></a>                                <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ object.precio }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-14"></a>                                <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>ESTADO:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-15"></a>                                {% if object.estado %}
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-16"></a>                                        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>ACTIVO<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-17"></a>                                {% else %}
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-18"></a>                                        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>INACTIVO<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-19"></a>                                {% endif %}
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-20"></a>                        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-21"></a>                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-22"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_bbed30e813dd44d7a482ec9728f2c36d-23"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre>
<p>producto.html</p>
<pre class="code html"><a name="rest_code_ab84069ea1d147a488f99008dc53df87-1"></a>{% if object %}
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-2"></a><span class="p">&lt;</span><span class="nt">form</span> <span class="na">role</span><span class="o">=</span><span class="s">"form"</span> <span class="na">action</span><span class="o">=</span><span class="s">"{% url 'productos:modificar_producto' object.pk %}"</span> <span class="na">method</span><span class="o">=</span><span class="s">"post"</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-3"></a>{% else %}
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-4"></a><span class="p">&lt;</span><span class="nt">form</span> <span class="na">role</span><span class="o">=</span><span class="s">"form"</span> <span class="na">action</span><span class="o">=</span><span class="s">"{% url 'productos:crear_producto' %}"</span> <span class="na">method</span><span class="o">=</span><span class="s">"post"</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-5"></a>{% endif %}
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-6"></a>        {% csrf_token %}
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-7"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"panel panel-default"</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-8"></a>                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"panel-body"</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-9"></a>                        {{ form.as_p }}
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-10"></a>                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-11"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-12"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"row"</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-13"></a>                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"col-lg-12 text-right"</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-14"></a>                        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"submit"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-primary"</span> <span class="na">name</span><span class="o">=</span><span class="s">"submit"</span> <span class="na">value</span><span class="o">=</span><span class="s">"Guardar"</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-15"></a>                        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-default"</span> <span class="na">onclick</span><span class="o">=</span><span class="s">"return cerrar_modal()"</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-16"></a>                                Cancelar
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-17"></a>                        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-18"></a>                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-19"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_ab84069ea1d147a488f99008dc53df87-20"></a><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre>
<p>Este template tiene de especial que va a ser usado tanto para crear como para modificar el producto, por lo que se procede a preguntar si existe un objeto object, en caso de que sea así la acción a realizar será modificar el producto y sino crear un nuevo producto.</p>
<p>Si todo ha salido bien podemos tener una pantalla como la siguiente:</p>
<img alt="/images/blog/modales_principal.png" src="../images/blog/modales_principal.png"><p>Y los modales:</p>
<p>Creacion de Nuevo Producto:</p>
<img alt="/images/blog/creacion_producto.png" src="../images/blog/creacion_producto.png"><p>Detalle de Producto:</p>
<img alt="/images/blog/detalle_producto.png" src="../images/blog/detalle_producto.png"><p>Modificacion de Producto:</p>
<img alt="/images/blog/modificacion_producto.png" src="../images/blog/modificacion_producto.png"><p>Para ver los archivos de configuración del proyecto y todo lo demás que no ha sido explicado en este post, pueden acceder al repositorio:</p>
<p><a class="reference external" href="https://github.com/pythonpiura/modales">Proyecto Modales</a></p>
<p>Saludos.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="../posts/configurando-django-con-postgresql/" class="u-url">Configurando Django con Postgresql</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Comunidad Python Piura
            </span></p>
            <p class="dateline"><a href="../posts/configurando-django-con-postgresql/" rel="bookmark"><time class="published dt-published" datetime="2017-04-26T21:38:44-05:00" title="2017-04-26 21:38">2017-04-26 21:38</time></a></p>
                <p class="commentline">
        
    <a href="../posts/configurando-django-con-postgresql/#disqus_thread" data-disqus-identifier="cache/posts/configurando-django-con-postgresql.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>En este videotutorial les mostramos la forma de configurar un servidor postgresql y conectarlo con Django, además de utilizar la herramienta gráfica de administración de base de datos PgAdminIII, esperemos les sea útil:</p>
<div class="youtube-video align-center">
<iframe width="425" height="344" src="https://www.youtube.com/embed/n-I3leXp66o?rel=0&amp;hd=1&amp;wmode=transparent"></iframe>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="../posts/configuracion-de-entorno-de-desarrollo-django/" class="u-url">Configuración de Entorno de Desarrollo Django</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Comunidad Python Piura
            </span></p>
            <p class="dateline"><a href="../posts/configuracion-de-entorno-de-desarrollo-django/" rel="bookmark"><time class="published dt-published" datetime="2017-04-26T21:27:27-05:00" title="2017-04-26 21:27">2017-04-26 21:27</time></a></p>
                <p class="commentline">
        
    <a href="../posts/configuracion-de-entorno-de-desarrollo-django/#disqus_thread" data-disqus-identifier="cache/posts/configuracion-de-entorno-de-desarrollo-django.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Después de algunos meses de ausencia y de haber superado los fenómenos climáticos que vivimos en nuestra región, volvemos con nuevos contenidos, esta vez vamos a probar con la realización de videotutoriales, empezamos desde lo básico configurando un entorno de desarrollo para Django usando el IDE Pycharm en su versión community y creando un entorno virtual, esperamos que lo disfruten:</p>
<div class="youtube-video align-center">
<iframe width="425" height="344" src="https://www.youtube.com/embed/PFUJv0CykO8?rel=0&amp;hd=1&amp;wmode=transparent"></iframe>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="../posts/configurando-la-ruta-de-los-addons-en-odoo/" class="u-url">Configurando la Ruta de los Addons en Odoo</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Comunidad Python Piura
            </span></p>
            <p class="dateline"><a href="../posts/configurando-la-ruta-de-los-addons-en-odoo/" rel="bookmark"><time class="published dt-published" datetime="2017-01-21T11:49:24-05:00" title="2017-01-21 11:49">2017-01-21 11:49</time></a></p>
                <p class="commentline">
        
    <a href="../posts/configurando-la-ruta-de-los-addons-en-odoo/#disqus_thread" data-disqus-identifier="cache/posts/configurando-la-ruta-de-los-addons-en-odoo.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>La ruta de los addons es un parámetro de configuración, que lista los directorios donde se buscarán los módulos agregados a Odoo cuando se inicializa una nueva base de datos.
Los directorios listados en la ruta addons se espera que contengan subdirectorios, cada uno de los cuales es un módulo agregado.</p>
<p>Primero ingresamos a la ruta donde tenemos nuestro entorno de Odoo 10 y creamos una carpeta llamada local-addons:</p>
<pre class="code bash"><a name="rest_code_e6fe92189a934f478c5e0a632f36d3ef-1"></a><span class="nb">cd</span> ~/odoo-dev-10/
<a name="rest_code_e6fe92189a934f478c5e0a632f36d3ef-2"></a>mkdir local-addons
</pre>
<p>La carpeta local-addons contendrá los módulos que vamos a desarrollar.</p>
<p>Ahora editamos la configuración de la instancia:</p>
<pre class="code bash"><a name="rest_code_00f81e6dcb1941f2920b950a76a18052-1"></a>nano myodoo.cfg
</pre>
<p>Localizamos la linea  que empieza con addons_path =. Por defecto esta mostrará lo siguiente:</p>
<pre class="code bash"><a name="rest_code_7c7e9d9d03bd4038b0994c0aec43c371-1"></a><span class="nv">addons_path</span> <span class="o">=</span> /home/usuario/odoo-dev-10/odoo/odoo/addons,/home/usuario/odoo-dev-10/odoo/addons
</pre>
<p>Modificamos la linea agregando una coma al final de la linea y añadiendo la ruta donde van a estar nuestros módulos adicionales, en este caso la carpeta local-addons en la ruta /home/usuario/odoo-dev-10:</p>
<pre class="code bash"><a name="rest_code_2729f268e1bf409d9e34e8537e103bfb-1"></a><span class="nv">addons_path</span> <span class="o">=</span> /home/usuario/odoo-dev-10/odoo/odoo/addons,/home/usuario/odoo-dev-10/odoo/addons,/home/usuario/odoo-dev-10/local-addons
</pre>
<p>Ahora reiniciamos nuestra instancia de odoo:</p>
<pre class="code bash"><a name="rest_code_c3030ca4e4224b1985ec0b8f86a53b92-1"></a>python odoo/odoo-bin -c myodoo.cfg
</pre>
<p>Si  nos detenemos a observar la terminal y los avisos que nos lanza Odoo, veremos que en la linea de addons_paths ya nos aparece la carpeta local-addons:</p>
<pre class="code bash"><a name="rest_code_9373df64447a4733ad76b9af127847fe-1"></a>2017-01-21 17:03:58,845 <span class="m">8081</span> INFO ? odoo: addons paths: <span class="o">[</span><span class="s1">'/home/usuario/.local/share/Odoo/addons/10.0'</span>, u<span class="s1">'/home/usuario/odoo-dev-10/odoo/odoo/addons'</span>, u<span class="s1">'/home/usuario/odoo-dev-10/odoo/addons'</span>, u<span class="s1">'/home/usuario/odoo-dev-10/local-addons'</span><span class="o">]</span>
</pre>
<div class="section" id="instalacion-de-modulos-desde-github">
<h2>Instalación de módulos desde GitHub</h2>
<p>GitHub es una gran fuente de módulos de terceros. Muchos desarrolladores de Odoo utilizan GitHub para compartir sus módulos, y la Asociación Comunitaria Odoo(OCA) mantiene colectivamente varios cientos de addons en GitHub.</p>
<p>Vamos a descargar un módulo de Asociación Comunitaria Odoo(OCA), para buscar los que necesitamos podemos ir a:</p>
<p><a class="reference external" href="https://github.com/OCA/">https://github.com/OCA/</a></p>
<p>En esta caso instalaremos algunos módulos que nos permiten tener funcionalidades para administrar centros de salud, para ello debemos situarnos en la carpeta de nuestro entorno de desarrollo y clonar el módulo allí:</p>
<pre class="code bash"><a name="rest_code_01bf3b866516488a8760e9aeb5934986-1"></a><span class="nb">cd</span> ~/odoo-dev-10
<a name="rest_code_01bf3b866516488a8760e9aeb5934986-2"></a>git clone https://github.com/OCA/vertical-medical
</pre>
<p>De acuerdo a la documentación sabemos que estos módulos dependen de otro llamado partner contacto, por lo que también debemos descargarlo para que esté disponible:</p>
<pre class="code bash"><a name="rest_code_ed4b9238821e4a3ba506c535ee50daf9-1"></a>git clone https://github.com/OCA/partner-contact.git
</pre>
<p>Ahora en nuestra carpeta tendremos dos carpetas adicionales tal como se muestra en la imagen:</p>
<img alt="/images/blog/addons4.png" src="../images/blog/addons4.png"><p>Todos los repositorios de códigos de la Asociación Comunitaria Odoo(OCA) tienen sus complementos contenidos en subdirectorios separados, lo cual es coherente con lo que espera de Odoo con respecto a los directorios en la ruta addons, por lo que debemos agregar ambas a la ruta de addons:</p>
<pre class="code bash"><a name="rest_code_28a88d2bec0040d8b7243fdef347fd2e-1"></a>nano myodoo.cfg
</pre>
<p>Modificamos la linea addons_path:</p>
<pre class="code bash"><a name="rest_code_0785d7dc202840718c43412ad939de7d-1"></a><span class="nv">addons_path</span> <span class="o">=</span> /home/usuario/odoo-dev-10/odoo/odoo/addons,/home/usuario/odoo-dev-10/odoo/addons,/home/usuario/odoo-dev-10/local-addons, /home/usuario/odoo-dev-10/partner-contact, /home/usuario/odoo-dev-10/vertical-medical
</pre>
<p>Ahora lanzamos nuestra instancia:</p>
<pre class="code bash"><a name="rest_code_456c93ab89914d0da99e536cec1ead38-1"></a>python odoo/odoo-bin -c myodoo.cfg
</pre>
<p>Ahora nos vamos al navegador para instalar nuestros addons descargados:</p>
<p><a class="reference external" href="https://localhost:8069">https://localhost:8069</a></p>
<p>Recordemos que el usuario y la contraseña por defecto son admin y admin.</p>
<p>Una vez que hayamos ingresado, buscamos el menú Settings(acá lo tenemos como Configuración, debido a que ya cargamos el soporte para idioma Español) y activamos el modo desarrollador:</p>
<img alt="/images/blog/addons1.png" src="../images/blog/addons1.png"><p>Ahora nos vamos al menú Apps y le damos click a la opción "Actualizar lista de aplicaciones":</p>
<img alt="/images/blog/addons2.png" src="../images/blog/addons2.png"><p>Nos desplegará una ventana como la siguiente, donde presionamos el botón actualizar:</p>
<img alt="/images/blog/addons3.png" src="../images/blog/addons3.png"><p>Finalmente vamos a las aplicaciones y buscamos el módulo Odoo Medical:</p>
<img alt="/images/blog/addons5.png" src="../images/blog/addons5.png"><p>Le damos click al botón instalar y automáticamente instalará también el addon partner-contact:</p>
<p>Ya con esto podemos administrar un centro médico con Odoo.</p>
<img alt="/images/blog/addons6.png" src="../images/blog/addons6.png"><p>Saludos.</p>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="../posts/guardando-la-configuracion-de-una-instancia-de-odoo-en-un-archivo/" class="u-url">Guardando la Configuración de una Instancia de Odoo en un Archivo</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Comunidad Python Piura
            </span></p>
            <p class="dateline"><a href="../posts/guardando-la-configuracion-de-una-instancia-de-odoo-en-un-archivo/" rel="bookmark"><time class="published dt-published" datetime="2017-01-21T11:35:33-05:00" title="2017-01-21 11:35">2017-01-21 11:35</time></a></p>
                <p class="commentline">
        
    <a href="../posts/guardando-la-configuracion-de-una-instancia-de-odoo-en-un-archivo/#disqus_thread" data-disqus-identifier="cache/posts/guardando-la-configuracion-de-una-instancia-de-odoo-en-un-archivo.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Seguimos configurando un entorno de desarrollo para Odoo 10 y tal como hemos visto en el <a class="reference external" href="../posts/instalando-entorno-de-desarrollo-para-odoo-10-en-ubuntu-1604/">artículo anterior</a> podíamos levantar una instancia de Odoo con algunos parámetros agregados:</p>
<pre class="code bash"><a name="rest_code_e42f3c1509a34358b9fb40018db02091-1"></a>python odoo-bin -d odoo10 --addons-path<span class="o">=</span>addons
</pre>
<p>Odoo tiene múltiples parámetros de configuración, para ver que parámetros podemos utilizar ejecutamos el siguiente comando:</p>
<pre class="code bash"><a name="rest_code_7bfb6f41a31d4ff492f0aa4baf52ad25-1"></a>python odoo-bin --help <span class="p">|</span> less
</pre>
<p>Estar cargando todos estos parámetros cada vez que levantamos nuestra instancia es un poco tedioso, por eso tenemos la opción de guardar un archivo de configuración donde tengamos todos nuestros parámetros establecidos.</p>
<p>Suponiendo que estamos ubicados en la carpeta que contiene el código fuente de Odoo, para generar el archivo de configuración debemos correr el siguiente comando:</p>
<pre class="code bash"><a name="rest_code_71b7e2073c644318be20e09b4878ed76-1"></a>python odoo-bin --save --config myodoo.cfg --stop-after-init
</pre>
<p>De esta manera generamos un archivo de configuración llamado myodoo.cfg(el nombre puede ser cualquiera) que se guardará en la misma carpeta donde está el script odoo-bin.</p>
<p>Es posible guardar este archivo en cualquier ubicación, eso ya depende de nosotros y de como nos ubiquemos para utilizar el script odoo-bin, en nuestro caso siempre creamos el archivo de configuración en la carpeta superior a la que contiene el código fuente de odoo(si seguimos la secuencia del artículo anterior esta carpeta será odoo-dev-10), por lo que haremos lo siguiente:</p>
<pre class="code bash"><a name="rest_code_5baf9e07645b4ed19c70a6161553b68c-1"></a><span class="nb">cd</span> ~/odoo-dev-10
<a name="rest_code_5baf9e07645b4ed19c70a6161553b68c-2"></a>python odoo/odoo-bin --save --config myodoo.cfg --stop-after-init
</pre>
<p>Si editamos el archivo myodoo.cfg y cambiamos algunos de los parámetros, es posible tomar estos cambios la siguiente vez que iniciemos nuestra instancia usando el parámetro -c, que es una opción abreviada de --config:</p>
<pre class="code bash"><a name="rest_code_2f5850d87bcd4d589bac1a7a51daab45-1"></a>python odoo/odoo-bin -c myodoo.cfg
</pre>
<p>Esto funciona de la siguiente manera, al arrancar, Odoo carga su configuración en tres pasos:</p>
<ul class="simple">
<li>Primero se inicializa un conjunto de valores predeterminados para todas las opciones desde el código fuente.</li>
<li>A continuación, se analiza la configuración y cualquier valor definido en el archivo reemplaza los valores predeterminados.</li>
<li>Finalmente, se analizan las opciones de la línea de comandos y sus valores anulan la configuración obtenida del paso anterior.</li>
</ul>
<p>Los nombres de las variables de configuración se pueden transformar desde los nombres de las opciones de la línea de comandos, eliminando los guiones principales y convirtiendo los guiones medios en guiones bajos. Hay algunas excepciones en particular, pero para obtener mayor detalle de esto remitanse a la documentación de Odoo o a los libros que hemos recomendado en los artículos anteriores y que estamos usando como guía.</p>
<p>Saludos.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="../posts/instalando-entorno-de-desarrollo-para-odoo-10-en-ubuntu-1604/" class="u-url">Instalando Entorno de Desarrollo para Odoo 10 en Ubuntu 16.04</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Comunidad Python Piura
            </span></p>
            <p class="dateline"><a href="../posts/instalando-entorno-de-desarrollo-para-odoo-10-en-ubuntu-1604/" rel="bookmark"><time class="published dt-published" datetime="2017-01-20T17:33:16-05:00" title="2017-01-20 17:33">2017-01-20 17:33</time></a></p>
                <p class="commentline">
        
    <a href="../posts/instalando-entorno-de-desarrollo-para-odoo-10-en-ubuntu-1604/#disqus_thread" data-disqus-identifier="cache/posts/instalando-entorno-de-desarrollo-para-odoo-10-en-ubuntu-1604.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Continuando nuestra serie de tutoriales sobre Odoo esta vez nos toca hacer la instalación de un entorno de desarrollo para Odoo sobre Ubuntu 16.04.</p>
<p>Primero instalamos las dependencias necesarias:</p>
<pre class="code bash"><a name="rest_code_5bc1ffb3233e4e3c8be40970b37ecff2-1"></a>sudo apt-get install git python2.7 postgresql nano python-virtualenv
</pre>
<p>Descargamos e instalamos wkhtmltox, esto es necesario para los reportes en pdf.</p>
<pre class="code bash"><a name="rest_code_aabc89c796ec46be971b263951ce98f5-1"></a>wget http://nightly.odoo.com/extra/wkhtmltox-0.12.1.2_linux-jessie-amd64.deb
<a name="rest_code_aabc89c796ec46be971b263951ce98f5-2"></a>dpkg -i wkhtmltox-0.12.1.2_linux-jessie-amd64.deb
</pre>
<p>Ahora instalamos las dependencias de desarrollo:</p>
<pre class="code bash"><a name="rest_code_bea09ca4b0ef477fbccbf2fe739963fe-1"></a>sudo apt-get install gcc python2.7-dev libxml2-dev <span class="se">\</span>
<a name="rest_code_bea09ca4b0ef477fbccbf2fe739963fe-2"></a>libxslt1-dev libevent-dev libsasl2-dev libldap2-dev libpq-dev <span class="se">\</span>
<a name="rest_code_bea09ca4b0ef477fbccbf2fe739963fe-3"></a>libpng12-dev libjpeg-dev
</pre>
<p>Instalamos NodeJS y su manejador de paquetes:</p>
<pre class="code bash"><a name="rest_code_89a2a12a574d4cb3bbf913821587408e-1"></a>sudo apt-get install npm
<a name="rest_code_89a2a12a574d4cb3bbf913821587408e-2"></a>ln -s /usr/bin/nodejs /usr/bin/node
</pre>
<p>Instalamos el compilador less, a partir de la versión 9.0, el cliente web Odoo requiere el preprocesador less CSS para que las páginas web se representen correctamente, esto depende de Node.js y npm, que hemos instalado en el paso anterior.</p>
<pre class="code bash"><a name="rest_code_e3963ac815cf4f1c82743bb7b4a89317-1"></a>npm install -g less less-plugin-clean-css
</pre>
<p>Configuramos postgresql, primero creamos un usuario con posibilidad de crear bases de datos y que tenga nuestro mismo nombre de usuario de Ubuntu:</p>
<pre class="code bash"><a name="rest_code_c2e47e0d099f425fa6c53e13d3b4ff9a-1"></a>sudo -u postgres createuser --createdb <span class="k">$(</span>whoami<span class="k">)</span>
</pre>
<p>Creamos la base de datos odoo10</p>
<pre class="code bash"><a name="rest_code_1787c7d8b86040bfa36b61286e501b6a-1"></a>createdb odoo10
</pre>
<p>Configuramos git para poder descargar el código fuente de odoo:</p>
<pre class="code bash"><a name="rest_code_304b71e5729640938e0d9c348195d9ff-1"></a>git config --global user.name <span class="s2">"Tu nombre"</span>
<a name="rest_code_304b71e5729640938e0d9c348195d9ff-2"></a>git config --global user.email <span class="s2">"Tu email"</span>
</pre>
<p>Creamos la carpeta donde vamos a clonar odoo 10:</p>
<pre class="code bash"><a name="rest_code_5c44d1a7c16c49e2997900c423a97281-1"></a>mkdir ~/odoo-dev-10
<a name="rest_code_5c44d1a7c16c49e2997900c423a97281-2"></a><span class="nb">cd</span> ~/odoo-dev-10
<a name="rest_code_5c44d1a7c16c49e2997900c423a97281-3"></a>git clone -b 10.0 --depth<span class="o">=</span><span class="m">1</span> https://github.com/odoo/odoo.git odoo
<a name="rest_code_5c44d1a7c16c49e2997900c423a97281-4"></a><span class="nb">cd</span> odoo
</pre>
<p>Creamos el entorno virtual para odoo 10 y lo activamos:</p>
<pre class="code bash"><a name="rest_code_35b4735581684f46aec9eef29fff9597-1"></a>virtualenv ~/odoo-10
<a name="rest_code_35b4735581684f46aec9eef29fff9597-2"></a><span class="nb">source</span> ~/odoo-10/bin/activate
</pre>
<p>Instalamos las python dependencias de Odoo en el entorno virtual:</p>
<pre class="code bash"><a name="rest_code_9c18b4cf8e8d496297ccf4919c14a03c-1"></a>pip install -r requirements.txt
</pre>
<p>Ahora levantamos odoo con el siguiente comando:</p>
<pre class="code bash"><a name="rest_code_1dce3be22e8745bdaebf01bccaca2b4b-1"></a>python odoo-bin -d odoo10 --addons-path<span class="o">=</span>addons
</pre>
<ul class="simple">
<li>El script para inicializar odoo se llama odoo-bin.</li>
<li>El parámetro -d es para indicarle que vamos a trabajar con la base de datos odoo10.</li>
<li>El parámetro --addons-path es para indicarle las rutas que contendrán los addons de Odoo.</li>
</ul>
<p>Probamos el correcto funcionamiento de odoo usando nuestro navegador web y poniendo la siguiente dirección en la barra de direcciones:</p>
<p><a class="reference external" href="http://localhost:8069">http://localhost:8069</a></p>
<p>Nos logueamos con las siguientes credenciales:</p>
<ul class="simple">
<li>Usuario: admin</li>
<li>Password: admin</li>
</ul>
<p>En los siguientes tutoriales empezaremos a crear addons para Odoo, hasta la próxima.</p>
<p>Saludos.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="../posts/configurando-un-proxy-inverso-para-odoo-10/" class="u-url">Configurando un Proxy Inverso para Odoo 10</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Comunidad Python Piura
            </span></p>
            <p class="dateline"><a href="../posts/configurando-un-proxy-inverso-para-odoo-10/" rel="bookmark"><time class="published dt-published" datetime="2017-01-19T11:09:29-05:00" title="2017-01-19 11:09">2017-01-19 11:09</time></a></p>
                <p class="commentline">
        
    <a href="../posts/configurando-un-proxy-inverso-para-odoo-10/#disqus_thread" data-disqus-identifier="cache/posts/configurando-un-proxy-inverso-para-odoo-10.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Teniendo en cuenta la configuración realizada en nuestro anterior artículo <a class="reference external" href="../posts/instalacion-odoo-10-en-produccion/">Instalación de Odoo 10 en Producción</a>
en esta oportunidad, vamos a configurar un proxy inverso para poder acceder a nuestro odoo mediante el puerto 80, en otro artículo haremos lo mismo para el protocolo https usando el puerto 443, debemos recalcar que en esta oportunidad hemos utilizado como guía el libro "Odoo 10 Development Essentials" de Daniel Reis, entonces manos a la obra.</p>
<p>Odoo puede servir páginas web por si mismo, pero se recomienda tener un proxy Inverso en frente. Un proxy inverso actúa como un intermediario que gestiona el tráfico entre los clientes que envían solicitudes y el servidor Odoo que les responde. El uso de un proxy inverso tiene varios beneficios.</p>
<p>A nivel de seguridad:</p>
<ul class="simple">
<li>Manejar (y hacer cumplir) los protocolos HTTPS para cifrar el tráfico</li>
<li>Ocultar las características de la red interna</li>
<li>Actuar como un cortafuegos que limita las URL aceptadas para el procesamiento</li>
</ul>
<p>A nivel de rendimiento:</p>
<ul class="simple">
<li>Caché de contenido estático, reduciendo así la carga en los servidores Odoo</li>
<li>Comprimir contenido para acelerar los tiempos de carga</li>
<li>Actuar como un equilibrador de carga, distribuyendola entre varios servidores.</li>
</ul>
<p>Apache es una opción popular para usar como un proxy inverso, pero en esta oportunidad usaremos Nginx, Nginx es una alternativa reciente con buenas características técnicas y fácil de configurar.</p>
<div class="section" id="configurando-nginx-como-proxy-inverso">
<h2>Configurando Nginx como Proxy Inverso</h2>
<p>Nginx, escucha en los puertos HTTP predeterminados(80), por lo que debemos asegurarnos que ninguna otra aplicación esté usando estos puertos, probaremos esto con la herramienta curl:</p>
<pre class="code bash"><a name="rest_code_548d09f6f6b5414fab6d02ef20edec54-1"></a>apt-get install curl
<a name="rest_code_548d09f6f6b5414fab6d02ef20edec54-2"></a>curl http://localhost
</pre>
<p>Si nos sale un mensaje como el siguiente entonces el puerto está libre:</p>
<pre class="code bash"><a name="rest_code_37128db7caa040c6b6cb81fd3b8e586a-1"></a>curl: <span class="o">(</span>7<span class="o">)</span> Failed to connect to localhost port 80: Conexión rehusada
</pre>
<p>Ahora procedemos a instalar nginx:</p>
<pre class="code bash"><a name="rest_code_8ece38c9019d4d098bb0389df87e4130-1"></a>apt-get install nginx
</pre>
<p>Para confirmar que está funcionando correctamente debemos ver una página de bienvenida cuando visitemos el servidor con un navegador web o usando curl:</p>
<p><a class="reference external" href="http://IP_SERVER">http://IP_SERVER</a></p>
<p>Los archivos de configuración de Nginx siguen el mismo enfoque que Apache se almacenan en:</p>
<pre class="code bash"><a name="rest_code_27962c11c379475db20307cab7bad630-1"></a>/etc/nginx/available-sites/
</pre>
<p>Y se activan añadiendo un enlace simbólico en:</p>
<pre class="code bash"><a name="rest_code_6abe33fa794246cd9a53fb77ddab5336-1"></a>/etc/nginx/enabled-sites
</pre>
<p>También debemos desactivar la configuración predeterminada proporcionada por la instalación de Nginx, borrando el archivo default:</p>
<pre class="code bash"><a name="rest_code_0ace42ed1b0f461197d653e8426f5c3d-1"></a>rm /etc/nginx/sites-enabled/default
</pre>
<p>Ahora creamos el archivo para odoo:</p>
<pre class="code bash"><a name="rest_code_5a8e0ec772d140e3ab6a048ea8f58226-1"></a>nano /etc/nginx/sites-available/odoo
</pre>
<p>y le agregamos el siguiente contenido:</p>
<pre class="code bash"><a name="rest_code_22cebd8fa4c04f5e94d5881f823e6501-1"></a>upstream backend-odoo<span class="o">{</span>
<a name="rest_code_22cebd8fa4c04f5e94d5881f823e6501-2"></a>        server 127.0.0.1:8069<span class="p">;</span>
<a name="rest_code_22cebd8fa4c04f5e94d5881f823e6501-3"></a><span class="o">}</span>
<a name="rest_code_22cebd8fa4c04f5e94d5881f823e6501-4"></a>
<a name="rest_code_22cebd8fa4c04f5e94d5881f823e6501-5"></a>server<span class="o">{</span>
<a name="rest_code_22cebd8fa4c04f5e94d5881f823e6501-6"></a>        location / <span class="o">{</span>
<a name="rest_code_22cebd8fa4c04f5e94d5881f823e6501-7"></a>                proxy_pass http://backend-odoo<span class="p">;</span>
<a name="rest_code_22cebd8fa4c04f5e94d5881f823e6501-8"></a>        <span class="o">}</span>
<a name="rest_code_22cebd8fa4c04f5e94d5881f823e6501-9"></a><span class="o">}</span>
</pre>
<p>Primero, agregamos los upstreams, y los servidores backend Nginx redirigirán el tráfico al servidor Odoo en que está escuchando en el puerto 8069</p>
<p>Añadimos el enlace simbólico:</p>
<pre class="code bash"><a name="rest_code_469d05f099664ba2b39788f841010472-1"></a>ln -s /etc/nginx/sites-available/odoo /etc/nginx/sites-enabled/odoo
</pre>
<p>Para testear si la configuración es correcta hacemos lo siguiente:</p>
<pre class="code bash"><a name="rest_code_5f54f9f13b684efb816a948e45618786-1"></a>nginx -t
</pre>
<p>Si hay errores revisar si hemos escrito correctamente la configuración en el archivo odoo.</p>
<p>Recargamos nginx:</p>
<pre class="code bash"><a name="rest_code_4c33912bd6cd49fa9e6fee3f47f6e52c-1"></a>/etc/init.d/nginx reload
</pre>
<p>Y visitamos nuestro servidor a través del navegador web:</p>
<pre class="code bash"><a name="rest_code_68fa3a84570d4971bccb3851832c99ac-1"></a>http://IP_SERVER
</pre>
<p>Este nos redirigirá automáticamente a Odoo, eso es todo por hoy.</p>
<p>Saludos.</p>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="../posts/instalacion-odoo-10-en-produccion/" class="u-url">Instalación de Odoo 10 en Producción</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Comunidad Python Piura
            </span></p>
            <p class="dateline"><a href="../posts/instalacion-odoo-10-en-produccion/" rel="bookmark"><time class="published dt-published" datetime="2017-01-16T23:56:00-05:00" title="2017-01-16 23:56">2017-01-16 23:56</time></a></p>
                <p class="commentline">
        
    <a href="../posts/instalacion-odoo-10-en-produccion/#disqus_thread" data-disqus-identifier="cache/posts/instalacion-odoo-10-en-produccion.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Ultimamente estamos trabajando con Odoo 10 y queremos compartir con ustedes la instalación de este genial software sobre un servidor Debian Jessie listo para ponerlo en producción, este es el primer artículo sobre el tema, el segundo estará siendo lanzado en los proximos días. Para escribir este artículo hemos tenido en cuenta los libros "Odoo Development Cookbook" y "Odoo 10      Development     Essentials"</p>
<p>Lo primero que debemos hacer es instalar Debian, los pasos para esto no los vamos a tener en cuenta en este artículo, ya que hay muy buenos tutoriales en la red.</p>
<p>Una vez instalado Debian es ingresar como root y actualizar el software:</p>
<pre class="code bash"><a name="rest_code_c3e8635593be47d08911cb455f696847-1"></a>apt update <span class="o">&amp;&amp;</span> apt upgrade
</pre>
<p>Ahora instalamos los paquetes necesarios que nos permitiran el correcto funcionamiento de Odoo</p>
<pre class="code bash"><a name="rest_code_c4790216048249b2986b8739d9133c2a-1"></a>apt-get install git python2.7 postgresql nano python-virtualenv <span class="se">\</span>
<a name="rest_code_c4790216048249b2986b8739d9133c2a-2"></a>gcc python2.7-dev libxml2-dev libxslt1-dev <span class="se">\</span>
<a name="rest_code_c4790216048249b2986b8739d9133c2a-3"></a>libevent-dev libsasl2-dev libldap2-dev libpq-dev <span class="se">\</span>
<a name="rest_code_c4790216048249b2986b8739d9133c2a-4"></a>libpng12-dev libjpeg-dev node-less node-clean-css <span class="se">\</span>
<a name="rest_code_c4790216048249b2986b8739d9133c2a-5"></a>xfonts-75dpi xfonts-base
</pre>
<p>En odoo los reportes se generan usando la librería wkhtmltox, por lo que es necesario primero descargarla:</p>
<pre class="code bash"><a name="rest_code_17b3116234a04855b06c3cd41f0b6031-1"></a>wget http://nightly.odoo.com/extra/wkhtmltox-0.12.1.2_linux-jessie-amd64.deb
</pre>
<p>Y luego instalarla:</p>
<pre class="code bash"><a name="rest_code_f172eee6ea6e425b9b2adc8be3c1f8c2-1"></a>dpkg -i wkhtmltox-0.12.1.2_linux-jessie-amd64.deb
</pre>
<p>Creamos el usuario odoo:</p>
<pre class="code bash"><a name="rest_code_6ce6d051cd39411cbdb143e5041844cf-1"></a>adduser odoo
</pre>
<p>Instalamos sudo para poder realizar algunas operaciones necesarias con permisos de superusuario:</p>
<pre class="code bash"><a name="rest_code_c92aad3080474a5196cd72baa227c001-1"></a>apt install sudo
</pre>
<p>Creamos el usuario de base de datos odoo, esto lo hacemos con el usuario postgres:</p>
<pre class="code bash"><a name="rest_code_f82b125484f349dbaf16681b738d2730-1"></a>sudo -u postgres createuser odoo
</pre>
<p>Si nos aparece el sguiente mensaje:</p>
<pre class="code bash"><a name="rest_code_d679440358d842da8f92742cef731742-1"></a>could not change directory to <span class="s2">"/root"</span>: Permiso denegado
</pre>
<p>No debemos preocuparnos y procedemos a crear la base de datos odoo-project y la asignamos al usuario odoo:</p>
<pre class="code bash"><a name="rest_code_d988dcba70ba483bb5f6e1c8d94caa66-1"></a>sudo -u postgres createdb -O odoo odoo-project
</pre>
<p>Ahora nos cambiamos al usuario odoo:</p>
<pre class="code bash"><a name="rest_code_c733f364ae73473d9c0a40233db5d252-1"></a>su odoo
</pre>
<p>Creamos la carpeta odoo-prod donde vamos a guardar todos los archivos y carpetas necesarias de odoo:</p>
<pre class="code bash"><a name="rest_code_898f46e753fc4e9392e59bf28588aaa1-1"></a>mkdir ~/odoo-prod
</pre>
<p>Fijémonos que antes del nombre de la carpeta tenemos los caracteres     "~/", con esto indicamos que no importa la carpeta donde estemos situados actualmente, siempre la creará en el home del usuario en sesión.</p>
<p>Ahora ingresamos a la carpeta creada:</p>
<pre class="code bash"><a name="rest_code_a87bebd6b7b0407c976d216d318b00a4-1"></a><span class="nb">cd</span> ~/odoo-prod
</pre>
<p>Y dentro de esta creamos las carpetas project y src dentro de project:</p>
<pre class="code bash"><a name="rest_code_8bdd488ffc3f49eebf7a4e9b688d07ad-1"></a>mkdir -p project/src
</pre>
<p>Ingresamos a la carpeta src donde guardaremos el código de odoo:</p>
<pre class="code bash"><a name="rest_code_e38dd8f242df43b1a77121b306812dd0-1"></a><span class="nb">cd</span> project/src
</pre>
<p>Ahora clonamos desde github el código fuente de odoo:</p>
<pre class="code bash"><a name="rest_code_6b8fe420c8824e58b4c69bf7941ad3cd-1"></a>git clone -b 10.0 --depth<span class="o">=</span><span class="m">1</span> https://github.com/odoo/odoo.git odoo
</pre>
<p>Observemos el parámetro --depth=1, este parámetro ignora la historia de los cambios y recupera sólo la última revisión de código, haciendo la descarga mucho más rápida.</p>
<p>Creamos un entorno virtual para trabajar con Odoo:</p>
<pre class="code bash"><a name="rest_code_848904cbc4304405aa2af3dfa270bbbd-1"></a>virtualenv ~/env-odoo-10.0
</pre>
<p>Activamos el entorno virtual:</p>
<pre class="code bash"><a name="rest_code_f01c70166a2640bcb94420c83d64d257-1"></a><span class="nb">source</span> ~/env-odoo-10.0/bin/activate
</pre>
<p>Instalamos las dependencias necesarias para odoo 10:</p>
<pre class="code bash"><a name="rest_code_2c46610228d14f54a7197ee4636ed6b2-1"></a>pip install -r odoo/requirements.txt
</pre>
<p>Hasta aquí ya podemos correr odoo sin ningún problema usando el script odoo-bin ubicado en el código fuente de odoo, pero continuaremos haciendo algunos pasos adicionales para obtener una mejor performance.</p>
<p>Procedemos a crear la carpeta bin dentro de project:</p>
<pre class="code bash"><a name="rest_code_03f94c8b070248148d506ba090a5268e-1"></a>mkdir ~/odoo-prod/project/bin
</pre>
<p>Ahora vamos a generar nuestro archivo de configuración de odoo, llamado production.conf, utilizando la siguiente orden:</p>
<pre class="code bash"><a name="rest_code_ff5a5e6bab8347e793ec734725bd2b96-1"></a>~/odoo-prod/project/src/odoo/odoo-bin --save --config ~/odoo-prod/project/production.conf --stop-after-init
</pre>
<p>Los parámetros --save y --config nos permiten crear y guardar el archivo de configuración en la ruta indicada, con el parámetro --stop-after-init paramos la ejecución de odoo y volvemos a la terminal.</p>
<p>Ahora vamos a crear el archivo que arrancará nuestro odoo, le vamos a denominar start-odoo y va a estar ubicado en la carpeta bin:</p>
<pre class="code bash"><a name="rest_code_a5538bffebad461685ffbba91db8dbbf-1"></a>nano ~/odoo-prod/project/bin/start-odoo
</pre>
<p>Este archivo es un script que contendrá lo siguiente:</p>
<pre class="code bash"><a name="rest_code_d49fb3417edf458c9fc194a7f248881b-1"></a><span class="ch">#! /bin/sh</span>
<a name="rest_code_d49fb3417edf458c9fc194a7f248881b-2"></a><span class="nv">PYTHON</span><span class="o">=</span>~odoo/env-odoo-10.0/bin/python
<a name="rest_code_d49fb3417edf458c9fc194a7f248881b-3"></a><span class="nv">ODOO</span><span class="o">=</span>~odoo/odoo-prod/project/src/odoo/odoo-bin
<a name="rest_code_d49fb3417edf458c9fc194a7f248881b-4"></a><span class="nv">CONF</span><span class="o">=</span>~odoo/odoo-prod/project/production.conf
<a name="rest_code_d49fb3417edf458c9fc194a7f248881b-5"></a><span class="si">${</span><span class="nv">PYTHON</span><span class="si">}</span> <span class="si">${</span><span class="nv">ODOO</span><span class="si">}</span> -c <span class="si">${</span><span class="nv">CONF</span><span class="si">}</span>
</pre>
<p>El detalle de este archivo se explica de la siguiente manera:</p>
<p>-Tenemos el intérprete del entorno virtual, con esto nos despreocupamos de estar activando el entorno virtual cada vez que querramos arrancar el odoo.</p>
<p>-El script que viene en el código de odoo y que inicia la aplicación, se llama odoo-bin.</p>
<p>-El archivo de configuración de odoo, llamado production.conf</p>
<p>-Y finalmente el llamado a la orden que arranca odoo utilizando los parámetros contenidos en el archivo de configuración.</p>
<p>Le damos permisos de ejecución al script start-odoo</p>
<pre class="code bash"><a name="rest_code_940affa219b74bc49f022c4e51bd81cb-1"></a>chmod +x ~/odoo-prod/project/bin/start-odoo
</pre>
<p>Para probarlo arranquemos el script:</p>
<pre class="code bash"><a name="rest_code_0c03be2b9fc6493b9c6620ebbf252d80-1"></a>~/odoo-prod/project/bin/start-odoo
</pre>
<p>Y probemos que funciona correctamente poniendo la IP del servidor y el puerto 8069:</p>
<p><a class="reference external" href="http://IP_SERVER_ODOO:8069">http://IP_SERVER_ODOO:8069</a></p>
<div class="section" id="tuneando-postgresql">
<h2>Tuneando PostgreSQL</h2>
<p>La configuración predeterminada de PostgreSQL es generalmente muy conservadora y tiene la intención de evitar que el servidor de base de datos acapare todos los recursos del sistema. En servidores de producción, se pueden aumentar algunos parámetros en el archivo postgresql.conf para obtener un mejor rendimiento.</p>
<p>Vamos a editar el archivo postgresql.conf:</p>
<pre class="code bash"><a name="rest_code_b00f16c3ca9c4597a3212329eacb3e9f-1"></a>nano /etc/postgresql/9.4/main/postgresql.conf
</pre>
<p>Estas son algunas de las opciones que utilizaremos:</p>
<pre class="code bash"><a name="rest_code_d53245d47ac94cc499b21754a5edd17a-1"></a><span class="nv">max_connections</span> <span class="o">=</span> 100
<a name="rest_code_d53245d47ac94cc499b21754a5edd17a-2"></a><span class="nv">shared_buffers</span> <span class="o">=</span> 256MB
<a name="rest_code_d53245d47ac94cc499b21754a5edd17a-3"></a><span class="nv">effective_cache_size</span> <span class="o">=</span> 768MB
<a name="rest_code_d53245d47ac94cc499b21754a5edd17a-4"></a><span class="nv">work_mem</span> <span class="o">=</span> 10MB
<a name="rest_code_d53245d47ac94cc499b21754a5edd17a-5"></a><span class="nv">maintenance_work_mem</span> <span class="o">=</span> 64MB
<a name="rest_code_d53245d47ac94cc499b21754a5edd17a-6"></a><span class="nv">checkpoint_segments</span> <span class="o">=</span> 16
<a name="rest_code_d53245d47ac94cc499b21754a5edd17a-7"></a><span class="nv">wal_buffers</span> <span class="o">=</span> 8MB
<a name="rest_code_d53245d47ac94cc499b21754a5edd17a-8"></a><span class="nv">checkpoint_completion_target</span> <span class="o">=</span> 0.9
</pre>
<p>Para modificar el archivo procedemos a buscar cada uno de los parámetros y lo editamos o lo descomentamos según sea el caso.</p>
<p>Ahora reiniciamos el servicio de base de datos:</p>
<pre class="code bash"><a name="rest_code_411ebc0963024518bd4657b0c9b666bb-1"></a>service postgresql restart
</pre>
</div>
<div class="section" id="editando-archivo-de-configuracion-de-odoo">
<h2>Editando Archivo de Configuración de Odoo</h2>
<p>Ahora vamos a editar el archivo production.conf para modificar los parámetros necesarios para obtener un mejor rendimiento:</p>
<pre class="code bash"><a name="rest_code_c5c2c113d56348e39378f55390fb9150-1"></a>nano ~/odoo-prod/project/production.conf
</pre>
<p>Los parámetros a modificar serán los siguientes:</p>
<p>Cambio del directorio de datos:</p>
<pre class="code bash"><a name="rest_code_9b13eaca35ba494c95aa9a388a5d027a-1"></a><span class="nv">data_dir</span> <span class="o">=</span> /home/odoo/odoo-prod/project/data
</pre>
<p>Cambio del log del servidor:</p>
<pre class="code bash"><a name="rest_code_d1d01501412f448eb4fa0b21903c4b84-1"></a><span class="nv">logfile</span> <span class="o">=</span> /home/odoo/odoo-prod/project/logs/odoo.log
</pre>
<p>Configuración de la rotación del log, esto permite la rotación de registros. Esto hará que Odoo configure el módulo de registro para archivar los registros del servidor diariamente y mantener los registros antiguos durante 30 días. Esto es útil en servidores de producción para evitar registros que eventualmente consumen todo el espacio disponible en el disco.:</p>
<pre class="code bash"><a name="rest_code_d14b8d3e79d74432b56d6254629e3e48-1"></a><span class="nv">logrotate</span> <span class="o">=</span> True
</pre>
<p>Configuración de los manejadores de login, esto configura el nivel de registro. La configuración propuesta es muy conservadora y sólo registrará mensajes con al menos el nivel WARNING, excepto werkzeug (CRITICAL) y openerp.service.server (INFO):</p>
<pre class="code bash"><a name="rest_code_24892e64413c4eebb0f37057f3bc92e9-1"></a><span class="nv">log_level</span> <span class="o">=</span> warn
<a name="rest_code_24892e64413c4eebb0f37057f3bc92e9-2"></a><span class="nv">log_handler</span> <span class="o">=</span> :WARNING,werkzeug:CRITICAL,openerp.service.server:INFO
</pre>
<p>Adaptación de los parámetros de conexión, esto funcionará si está ejecutando el servidor de base de datos PostgreSQL localmente y lo ha configurado como se explicó en anteriormente. Si se está ejecutando PostgreSQL en un servidor diferente, se tendrá que reemplazar los valores False con la configuración de conexión adecuada para su instancia de base de datos:</p>
<pre class="code bash"><a name="rest_code_2c3085096ae74e1db12f24d4cd235afd-1"></a><span class="nv">db_host</span> <span class="o">=</span> False
<a name="rest_code_2c3085096ae74e1db12f24d4cd235afd-2"></a><span class="nv">db_maxconn</span> <span class="o">=</span> 64
<a name="rest_code_2c3085096ae74e1db12f24d4cd235afd-3"></a><span class="nv">db_name</span> <span class="o">=</span> odoo-project
<a name="rest_code_2c3085096ae74e1db12f24d4cd235afd-4"></a><span class="nv">db_password</span> <span class="o">=</span> False
<a name="rest_code_2c3085096ae74e1db12f24d4cd235afd-5"></a><span class="nv">db_port</span> <span class="o">=</span> False
<a name="rest_code_2c3085096ae74e1db12f24d4cd235afd-6"></a><span class="nv">db_template</span> <span class="o">=</span> template1
<a name="rest_code_2c3085096ae74e1db12f24d4cd235afd-7"></a><span class="nv">db_user</span> <span class="o">=</span> False
</pre>
<p>Configuración del filtro de bases de datos y del listado de bases de datos, esto restringe las bases de datos disponibles para la instancia configurando un filtro de base de datos.
Se desactiva el listado de las base de datos, esto no es estrictamente necesario dado que la expresión regular que establecemos en dbfilter sólo puede coincidir con una base de datos única. Sin embargo esto se hace para evitar mostrar la lista de bases de datos y que los usuarios se conecten a la base de datos incorrecta:</p>
<pre class="code bash"><a name="rest_code_675563aecae24c5abfa4d8c329b40e0e-1"></a><span class="nv">dbfilter</span> <span class="o">=</span> odoo-project$
<a name="rest_code_675563aecae24c5abfa4d8c329b40e0e-2"></a><span class="nv">list_db</span> <span class="o">=</span> False
</pre>
<p>Cambio del master password, la contraseña maestra se utiliza para la administración de la base de datos a través de la interfaz de usuario, y algunos addons de la comunidad también lo utilizan para añadir seguridad adicional antes de realizar acciones que pueden conducir a la pérdida de datos.:</p>
<pre class="code bash"><a name="rest_code_b0be5333e81b41dc8d6c4ebff1fe7bf4-1"></a><span class="nv">admin_password</span> <span class="o">=</span> mypassword
</pre>
<p>Configuración de los workers, Odoo creará una serie de procesos de trabajo (en este ejemplo, 4) para manejar las solicitudes HTTP. Esto tiene varias ventajas sobre la configuración por defecto en la cual el manejo de la petición se realiza en hilos separados:</p>
<pre class="code bash"><a name="rest_code_ccdeefee11d745e090cc819650db078c-1"></a><span class="nv">workers</span> <span class="o">=</span> 4
<a name="rest_code_ccdeefee11d745e090cc819650db078c-2"></a><span class="nv">limit_memory_hard</span> <span class="o">=</span> <span class="m">4294967296</span> <span class="c1"># 4 GB</span>
<a name="rest_code_ccdeefee11d745e090cc819650db078c-3"></a><span class="nv">limit_memory_soft</span> <span class="o">=</span> <span class="m">671088640</span> <span class="c1"># 640MB</span>
<a name="rest_code_ccdeefee11d745e090cc819650db078c-4"></a><span class="nv">limit_request</span> <span class="o">=</span> 8192
<a name="rest_code_ccdeefee11d745e090cc819650db078c-5"></a><span class="nv">limit_time_cpu</span> <span class="o">=</span> 120
<a name="rest_code_ccdeefee11d745e090cc819650db078c-6"></a><span class="nv">limit_time_real</span> <span class="o">=</span> 300
</pre>
<p>Si queremos que el sistema cargue datos de prueba debemos mantener el parámetro without_demo en False y si queremos lo contrario lo ponemos a True:</p>
<pre class="code bash"><a name="rest_code_c94436cda8c44d4094866fc52291e6ea-1"></a><span class="nv">without_demo</span> <span class="o">=</span> False
</pre>
</div>
<div class="section" id="arranque-automatico">
<h2>Arranque Automático</h2>
<p>Ahora vamos a configurar systemd para iniciar Odoo automáticamente.</p>
<p>Si aún seguimos logueados con el usuario odoo, debemos salir y regresar a trabajar con el usuario root:</p>
<pre class="code bash"><a name="rest_code_35c9b4bb106c4355b2099cff6d4be66f-1"></a><span class="nb">exit</span>
</pre>
<p>Creamos el archivo llamado odoo.service en /lib/systemd/system/ de la siguiente manera:</p>
<pre class="code bash"><a name="rest_code_72fae6b3792e42cdac4a60053ade202d-1"></a>nano /lib/systemd/system/odoo.service
</pre>
<p>Este archivo tendrá el siguiente contenido:</p>
<pre class="code bash"><a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-1"></a><span class="o">[</span>Unit<span class="o">]</span>
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-2"></a><span class="nv">Description</span><span class="o">=</span>Odoo 10.0
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-3"></a><span class="nv">After</span><span class="o">=</span>postgresql.service
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-4"></a>
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-5"></a><span class="o">[</span>Service<span class="o">]</span>
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-6"></a><span class="nv">Type</span><span class="o">=</span>simple
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-7"></a><span class="nv">User</span><span class="o">=</span>odoo
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-8"></a><span class="nv">Group</span><span class="o">=</span>odoo
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-9"></a><span class="nv">ExecStart</span><span class="o">=</span>/home/odoo/odoo-prod/project/bin/start-odoo
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-10"></a>
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-11"></a><span class="o">[</span>Install<span class="o">]</span>
<a name="rest_code_db1d37ba05ca4a45a6246df52d189e48-12"></a><span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</pre>
<p>Registramos el servicio:</p>
<pre class="code bash"><a name="rest_code_eba7e2e7885f41b6912e75d013bc7484-1"></a>systemctl <span class="nb">enable</span> odoo.service
</pre>
<p>Iniciamos el servicio:</p>
<pre class="code bash"><a name="rest_code_dc9158dc32c640a2a9442c35941acb60-1"></a>service odoo start
</pre>
<p>Revisamos que al menos esté corriendo:</p>
<pre class="code bash"><a name="rest_code_cfc7000ee6524fadaf0c443d127a31b6-1"></a>service odoo status
</pre>
<p>Y lo paramos:</p>
<pre class="code bash"><a name="rest_code_a6d3ee0aafd3436495bb9fe00f30759d-1"></a>service odoo stop
</pre>
<p>Para probar el funcionamiento reiniciemos el servidor y veamos que odoo esté corriendo correctamente:</p>
<pre class="code bash"><a name="rest_code_f0bd56aee7c34de6890581e380c480f8-1"></a>reboot
</pre>
<p>Ahora probemos nuevamente:</p>
<p><a class="reference external" href="http://IP_SERVER_ODOO:8069">http://IP_SERVER_ODOO:8069</a></p>
<p>Y debemos ver la página de inicio del odoo.</p>
<p>El siguiente artículo nos permitirá configurar odoo con nginx y estará muy bueno, hasta la próxima.</p>
<p>Saludos.</p>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="../posts/migrando-de-wordpress-a-nikola/" class="u-url">Migrando de Wordpress a Nikola</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Comunidad Python Piura
            </span></p>
            <p class="dateline"><a href="../posts/migrando-de-wordpress-a-nikola/" rel="bookmark"><time class="published dt-published" datetime="2016-07-02T05:01:23Z" title="2016-07-02 05:01">2016-07-02 05:01</time></a></p>
                <p class="commentline">
        
    <a href="../posts/migrando-de-wordpress-a-nikola/#disqus_thread" data-disqus-identifier="cache/posts/migrando-de-wordpress-a-nikola.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Despues de haber trabajado durante mucho tiempo en Wordpress decidimos usar algo mas pythonesco y encontramos el proyecto Nikola, que se adapta muy bien a lo que nosotros necesitamos como comunidad, asi que decidimos migrar, para ello seguimos la documentacion oficial del proyecto y algunos tutoriales adicionales, en este post vamos a relatar nuestra experiencia, esperando que sea util a nuestros lectores.</p>
<p>Primero creamos nuestro entorno virtual, en esta oportunidad usamos python3 para obtener un mejor rendimiento con Nikola,</p>
<pre class="code bash"><a name="rest_code_d24b0cc88f774457a8dd99bd1e398c18-1"></a>python3 -m venv nikola
</pre>
<p>Activamos el entorno virtual:</p>
<pre class="code bash"><a name="rest_code_537ce5700b0349f896bcda574672939e-1"></a><span class="nb">source</span> nikola/bin/activate
</pre>
<p>Antes de iniciar la instalacion de Nikola debimos instalar algunas dependencias para asegurarnos que todo funcione sin ningun problema:</p>
<pre class="code bash"><a name="rest_code_e4eed4002c944c40997a08d792eca47b-1"></a>sudo apt-get install python3-dev
<a name="rest_code_e4eed4002c944c40997a08d792eca47b-2"></a>sudo apt-get install libxml2-dev libxslt1-dev zlib1g-dev
<a name="rest_code_e4eed4002c944c40997a08d792eca47b-3"></a>sudo apt-get build-dep python3-lxml python3-pil
</pre>
<p>Luego de ello debimos hacer una actualizacion de pip por un problema raro que se nos estaba presentando en la instalacion:</p>
<pre class="code bash"><a name="rest_code_fc8e4b57d1ec4cbabd2aa0c43f2f6af3-1"></a>pip install --upgrade pip
</pre>
<p>Luego procedimos a instalar Nikola y lo hicimos, de acuerdo a la sugerencia de su propia pagina, de la siguiente manera:</p>
<pre class="code bash"><a name="rest_code_6f7d3abc257249c9a78711ad0365bcf5-1"></a>pip install --upgrade <span class="s2">"Nikola[extras]"</span>
</pre>
<p>Nos demoramos un poquito, pero finalmente ya teniamos a Nikola instalado en nuestra maquina, como a nosotros no nos interesaba iniciar un sitio desde cero, sino migrar el que ya tenemos en wordpress, hicimos un backup del contenido del blog en wordpress, que es descargado en formato xml, el nuestro se llama pythonpiura.wordpress.2016-06-28.xml y las indicaciones para hacerlo son bastante sencillas y estan explicadas en la documentacion del propio wordpress.
Para hacer la migracion de Wordpress a Nikola leimos rapidamente el manual y encontramos que teniamos 3 opciones, probamos las tres para ver cual nos resultaba mejor, pero antes debimos ingresar en la ruta donde tenemos nuestro archivo xml con el backup, debemos mencionar que las tres opciones nos crean una carpeta new_site.</p>
<p>1-La opcion por defecto:</p>
<pre class="code bash"><a name="rest_code_edda53a799364746b2b34ff36c1d7f17-1"></a>nikola import_wordpress pythonpiura.wordpress.2016-06-28.xml
</pre>
<p>Esta opcion descarga todo el contenido del blog de wordpress e intenta hacer una conversion de cada uno de los posts y paginas al formato .md, no nos funciono correctamente ya que muchos posts se migraron a medias.</p>
<p>2-Convertir los posts a html:</p>
<pre class="code bash"><a name="rest_code_e7059d68c1404833a4eaaceb27ed7dd3-1"></a>nikola import_wordpress --transform-to-html pythonpiura.wordpress.2016-06-28.xml
</pre>
<p>Para ello primero debemos instalar el plugin de conversion a wordpress</p>
<pre class="code bash"><a name="rest_code_8b83d7c8823d4fb680240f0173aa4c4a-1"></a>nikola plugin -i wordpress_compiler
</pre>
<p>Esta opcion descarga el contenido y convierte los posts y paginas a html, esta fue la opcion que mejor nos funciono, salvo por el problema con los ejemplos de codigo que tenemos y que llevan la etiqueta:</p>
<pre class="code html"><a name="rest_code_f50e4b8b24b94dbdad1c7797c52fe140-1"></a>[sourcecode language="language"]
</pre>
<p>Hasta donde hemos visto no es posible llevar a cabo la conversion de esto a un formato adecuado asi que simplemente los deja con el texto normal sin darle ningun formato, por lo que este todavia es un tema pendiente de resolver.</p>
<p>3-Dejar el contenido como formato de wordpress, los archivos de los posts y las paginas tienen las extension .wp</p>
<pre class="code bash"><a name="rest_code_9b83ae63fab3490d9a749b2617a8b61c-1"></a>nikola import_wordpress --use-wordpress-compiler pythonpiura.wordpress.2016-06-28.xml
</pre>
<p>Probamos esta opcion pensando que nos solucionaria el problema de la etiqueta [sourcecode], pero funciono igual que la opcion anterior y encima debiamos activar el plugin de wordpress en el archivo de configuracion del sitio.</p>
<p>Como comentamos antes usamos la segunda opcion que nos creo la carpeta new_site con el contenido listo, asi que ahora debiamos construir el sitio:</p>
<pre class="code bash"><a name="rest_code_6ddb80bdd9284eb6adafe278b4bd5d75-1"></a>nikola build
</pre>
<p>Y lanzar el servidor de pruebas:</p>
<pre class="code bash"><a name="rest_code_d5d42569a7e44e41989af38406ad4259-1"></a>nikola serve -b
</pre>
<p>Cambiamos el tema por defecto por uno que nos parecio mas bonito llamado zen, pueden ver mas temas aqui:</p>
<p><a class="reference external" href="https://themes.getnikola.com">https://themes.getnikola.com</a></p>
<p>Lo instalamos asi:</p>
<pre class="code bash"><a name="rest_code_244ebd4fcb574f1180958d66addaa6e3-1"></a>nikola install_theme zen
</pre>
<p>Y lo configuramos en nuestro sitio modificando el archivo conf.py y cambiando la linea:</p>
<pre class="code python"><a name="rest_code_04afba205a6446db8a8f48b57776158d-1"></a><span class="n">THEME</span> <span class="o">=</span> <span class="s2">"bootstrap3"</span>
</pre>
<p>por:</p>
<pre class="code python"><a name="rest_code_61d9ad1f75f7433fb8fc7f75db938726-1"></a><span class="n">THEME</span> <span class="o">=</span> <span class="s2">"zen"</span>
</pre>
<p>y la linea:</p>
<pre class="code python"><a name="rest_code_e67fa88da5054b90b1b1f1428f29b904-1"></a><span class="n">NAVIGATION_LINKS</span> <span class="o">=</span> <span class="p">{</span>
<a name="rest_code_e67fa88da5054b90b1b1f1428f29b904-2"></a>        <span class="n">DEFAULT_LANG</span><span class="p">:</span> <span class="p">(</span>
<a name="rest_code_e67fa88da5054b90b1b1f1428f29b904-3"></a>            <span class="p">(</span><span class="s2">"/archive.html"</span><span class="p">,</span> <span class="s2">"Archives"</span><span class="p">),</span>
<a name="rest_code_e67fa88da5054b90b1b1f1428f29b904-4"></a>            <span class="p">(</span><span class="s2">"/categories/index.html"</span><span class="p">,</span> <span class="s2">"Tags"</span><span class="p">),</span>
<a name="rest_code_e67fa88da5054b90b1b1f1428f29b904-5"></a>            <span class="p">(</span><span class="s2">"/rss.xml"</span><span class="p">,</span> <span class="s2">"RSS feed"</span><span class="p">),</span>
<a name="rest_code_e67fa88da5054b90b1b1f1428f29b904-6"></a>        <span class="p">),</span>
<a name="rest_code_e67fa88da5054b90b1b1f1428f29b904-7"></a><span class="p">}</span>
</pre>
<p>Por:</p>
<pre class="code python"><a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-1"></a><span class="n">NAVIGATION_LINKS</span> <span class="o">=</span> <span class="p">{</span>
<a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-2"></a>    <span class="n">DEFAULT_LANG</span><span class="p">:</span> <span class="p">(</span>
<a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-3"></a>        <span class="p">(</span><span class="s1">'/index.html'</span><span class="p">,</span> <span class="s1">'Home'</span><span class="p">,</span> <span class="s1">'icon-home'</span><span class="p">),</span>
<a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-4"></a>        <span class="p">(</span><span class="s1">'/archive.html'</span><span class="p">,</span> <span class="s1">'Archives'</span><span class="p">,</span> <span class="s1">'icon-folder-open-alt'</span><span class="p">),</span>
<a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-5"></a>        <span class="p">(</span><span class="s1">'/categories/index.html'</span><span class="p">,</span> <span class="s1">'Tags'</span><span class="p">,</span> <span class="s1">'icon-tags'</span><span class="p">),</span>
<a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-6"></a>        <span class="p">(</span><span class="s1">'/rss.xml'</span><span class="p">,</span> <span class="s1">'RSS'</span><span class="p">,</span> <span class="s1">'icon-rss'</span><span class="p">),</span>
<a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-7"></a>        <span class="p">(</span><span class="s1">'https://getnikola.com'</span><span class="p">,</span> <span class="s1">'About me'</span><span class="p">,</span> <span class="s1">'icon-user'</span><span class="p">),</span>
<a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-8"></a>        <span class="p">(</span><span class="s1">'https://twitter.com/getnikola'</span><span class="p">,</span> <span class="s1">'My Twitter'</span><span class="p">,</span> <span class="s1">'icon-twitter'</span><span class="p">),</span>
<a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-9"></a>        <span class="p">(</span><span class="s1">'https://github.com/getnikola'</span><span class="p">,</span> <span class="s1">'My Github'</span><span class="p">,</span> <span class="s1">'icon-github'</span><span class="p">),</span>
<a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-10"></a>    <span class="p">)</span>
<a name="rest_code_a7f0f4f731fb4da3902558bcac385aa1-11"></a><span class="p">}</span>
</pre>
<p>Lo anterior es por defecto para que funcione, pero ya luego lo modificamos a nuestro gusto.</p>
<p>Volvimos a construir nuestro sitio:</p>
<pre class="code bash"><a name="rest_code_c8c6055dd79443f6aae81bdc9e1f9346-1"></a>nikola build
</pre>
<p>Y a lanzar nuestro servidor:</p>
<pre class="code bash"><a name="rest_code_83e40a28407a4577ac2a074a1c364b58-1"></a>nikola serve -b
</pre>
<p>Ahora si nos tocaba deployar nuestro sitio en github:</p>
<p>Para ello creamos un repositorio con el mismo nombre de nuestro usuario "pythonpiura" pero de la siguiente manera:</p>
<p>pythonpiura.github.io</p>
<p>Clonamos este repositorio:</p>
<pre class="code bash"><a name="rest_code_0db2e2226fa0412db91205b2a5161ed5-1"></a>git clone https://github.com/pythonpiura/pythonpiura.github.io.git
</pre>
<p>Lo siguiente que hicimos, fue copiar el contenido de nuestra carpeta new_site en la carpeta del repositorio recien creado.</p>
<p>Luego procedimos a modificar el archivo conf.py para que tenga los datos de nuetro nuevo sitio, modificando las siguientes lineas:</p>
<pre class="code python"><a name="rest_code_7c5db242b1b34c36b9bcd64add9ec130-1"></a><span class="n">SITE_URL</span> <span class="o">=</span> <span class="s2">"https://pythonpiura.github.io/"</span>
<a name="rest_code_7c5db242b1b34c36b9bcd64add9ec130-2"></a><span class="n">BLOG_EMAIL</span> <span class="o">=</span> <span class="s2">"pythonpiura@openmailbox.org"</span>
</pre>
<p>y tambien las siguientes para que se deploye correctamente en github:</p>
<pre class="code python"><a name="rest_code_82c996828d81407da7fa7a397d89f5dc-1"></a><span class="n">GITHUB_SOURCE_BRANCH</span> <span class="o">=</span> <span class="s1">'sources'</span>
<a name="rest_code_82c996828d81407da7fa7a397d89f5dc-2"></a><span class="n">GITHUB_DEPLOY_BRANCH</span> <span class="o">=</span> <span class="s1">'master'</span>
<a name="rest_code_82c996828d81407da7fa7a397d89f5dc-3"></a><span class="n">GITHUB_REMOTE_NAME</span> <span class="o">=</span> <span class="s1">'origin'</span>
</pre>
<p>Agregamos lo siguiente a nuestro archivo .gitignore para que este contenido no sea subido al repositorio:</p>
<pre class="code text"><a name="rest_code_f77233b59fd44499b26c39615271096a-1"></a>cache
<a name="rest_code_f77233b59fd44499b26c39615271096a-2"></a>.doit.db
<a name="rest_code_f77233b59fd44499b26c39615271096a-3"></a>__pycache__
<a name="rest_code_f77233b59fd44499b26c39615271096a-4"></a>output
</pre>
<p>Y corremos el comando:</p>
<pre class="code bash"><a name="rest_code_4d501a527609452ab6178ffc4064e697-1"></a>nikola github_deploy
</pre>
<p>En este paso github nos solicito nuestro usuario y password, lo ingresamos y continuamos. Tardo varios minutos en subir el contenido pero ya con eso tenemos nuestro blog en la siguiente direccion.</p>
<p><a class="reference external" href="http://pythonpiura.org/">http://pythonpiura.org/</a></p>
<p>Saludos.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="../posts/2016/06/18/ipython-y-jupyter/" class="u-url">IPython y Jupyter</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                Comunidad Python Piura
            </span></p>
            <p class="dateline"><a href="../posts/2016/06/18/ipython-y-jupyter/" rel="bookmark"><time class="published dt-published" datetime="2016-06-18T04:46:26-05:00" title="2016-06-18 04:46">2016-06-18 04:46</time></a></p>
                <p class="commentline">
        
    <a href="../posts/2016/06/18/ipython-y-jupyter/#disqus_thread" data-disqus-identifier="cache/posts/2016/06/18/ipython-y-jupyter.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Despues de un receso hemos regresado y esta vez para hablar de IPython
y Jupyter, como todos sabemos cuando estamos aprendiendo Python
utilizamos el interprete directamente desde una terminal y vamos
probando nuestros programas, al principio todo nos va muy bien pero
luego notamos que nos vamos quedando cortos, es alli donde aparece
<a class="reference external" href="https://ipython.org/">IPython</a> que tal como nos dice su pagina web nos provee una
arquitectura rica para computación interactiva con:</p>
<ul class="simple">
<li>Una shell interactiva poderosa.</li>
<li>Un nucleo para Jupyter.</li>
<li>Soporte para visualización de datos interactivos y uso de
herramientas GUI.</li>
<li>Interprete embebido flexible para cargar en nuestros propios
proyectos.</li>
<li>Fácil de usar, herramientas de alta performance para computación
paralela.</li>
</ul>
<p>Vamos a instalarlo para ir conociendolo mejor, para ello vamos a
<a class="reference external" href="http://rukbottoland.com/blog/tutorial-de-python-virtualenv/">crear un entorno virtual</a>, al que llamaremos ipython:</p>
<pre class="code bash"><a name="rest_code_b792bec39fd04f76909feb2387aa03e7-1"></a>virtualenv ipython
</pre>
<p>Lo activamos:</p>
<pre class="code bash"><a name="rest_code_415573f3a1f14681bcbccf6131581be5-1"></a><span class="nb">source</span> ipython/bin/activate
</pre>
<p>Ahora procedemos a instalar ipython:</p>
<pre class="code bash"><a name="rest_code_3159189163714c91b2b8c9912524764e-1"></a>pip install ipython
</pre>
<p>Para probar que todo ha salido bien ponemos lo siguiente en la
terminal:</p>
<pre class="code bash"><a name="rest_code_ecf675017c084ed6a95bf9df13679374-1"></a>ipython
</pre>
<p>Y nos aparecerá algo como esto, que nos indica que todo esta
funcionando correctamente:</p>
<img alt="/images/blog/seleccic3b3n_369.png" src="../images/blog/seleccic3b3n_369.png"><p>Escribimos exit para salir del interprete y regresar a nuestra
terminal:</p>
<pre class="code bash"><a name="rest_code_26b3ebb917a547109988e50ade651f81-1"></a><span class="nb">exit</span>
</pre>
<p>Ahora conozcamos a <a class="reference external" href="http://jupyter.org/">Jupyter</a>, tal como nos dice su pagina web, es una
aplicación web que permite crear y compartir documentos que contienen
código vivo, ecuaciones, visualizaciones y texto explicativo. Se puede
usar para simulación numérica, simulación estadística, machine
learning y mucho mas.
Vamos a instalarlo para ir conociéndolo:</p>
<pre class="code bash"><a name="rest_code_aafd316de86b4c3592276cfb2d5d619e-1"></a>pip install jupyter
</pre>
<p>Para correrlo debemos escribir lo siguiente:</p>
<pre class="code bash"><a name="rest_code_57b29115ad684bea875378dec165a97f-1"></a>ipython notebook
</pre>
<p>Y automáticamente nos abrirá en una pestaña del navegador lo
siguiente:</p>
<img alt="/images/blog/seleccic3b3n_370.png" src="../images/blog/seleccic3b3n_370.png"><p>Aqui podemos crear un nuevo notebook, dando click al boton new en la
parte superior derecha y seleccionando Python 2:</p>
<img alt="/images/blog/seleccic3b3n_371.png" src="../images/blog/seleccic3b3n_371.png"><p>Nos aparece una especie de consola web donde podemos ir escribiendo
nuestros programas:</p>
<img alt="/images/blog/seleccic3b3n_373.png" src="../images/blog/seleccic3b3n_373.png"><p>Y ejecutando su contenido, como si trabajáramos en nuestra vieja
terminal:</p>
<img alt="/images/blog/seleccic3b3n_372.png" src="../images/blog/seleccic3b3n_372.png"><p>Maravilloso verdad, un interprete web, donde vamos escribiendo
nuestros programas y viendo su funcionamiento, agregando texto,
imagenes, generando graficos, podemos guardar cada noteboook,
exportarlo a pdf, intercambiarlo, etc, como veran es una herramienta
valiosisima para utilizar en la enseñanza, en el analisis de datos, en
los trabajos de investigacion, etc.</p>
<p>En la red podemos encontrar una gran de cantidad de notebooks listos
para descargar, hay tutoriales, tesis, trabajos de investigacion, etc.
A nosotros nos intereso el siguiente curso, que es introductorio al
leguaje Python:
<a class="reference external" href="http://ricardoduarte.github.io/python-for-developers/">Python For Developers</a></p>
<p>Vamos a descargar el archivo <a class="reference external" href="https://github.com/ricardoduarte/python-for-developers/zipball/master">zip</a> conteniendo todos los notebooks y
lo guardamos en la ruta desde donde ejecutamos el comando “ipython
notebook”, lo descomprimimos y tendremos lo siguiente:</p>
<img alt="/images/blog/seleccic3b3n_375.png" src="../images/blog/seleccic3b3n_375.png"><p>Como verán ahora ya nos aparece la carpeta donde esta el curso,
ingresamos a ella:</p>
<img alt="/images/blog/seleccic3b3n_376.png" src="../images/blog/seleccic3b3n_376.png"><p>Ahora ingresamos a uno de los capítulos:</p>
<img alt="/images/blog/seleccic3b3n_378.png" src="../images/blog/seleccic3b3n_378.png"><p>Seleccionamos el archivo con la extensión “ipynb” y veremos un hermoso
curso de introduccion a Python donde podemos ir interactuando con los
programas de ejemplo:</p>
<img alt="/images/blog/seleccic3b3n_377.png" src="../images/blog/seleccic3b3n_377.png"><p>Genial no, ahora aprender Python y hacer demostraciones de código va a
ser mas divertido :-)</p>
<p>Eso es todo por hoy, saludos.</p>
</div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="next">
                <a href="index-3.html" rel="next">Publicaciones anteriores</a>
            </li>
        </ul></nav><script>var disqus_shortname="pythonpiura-org";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2017         <a href="mailto:pythonpiura@openmailbox.org">Comunidad Python Piura</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a>
            
        </footer>
</div>
</div>


            <script src="../assets/js/all-nocdn.js"></script><script src="../assets/js/colorbox-i18n/jquery.colorbox-es.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("es");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-8661664653028018",
    enable_page_level_ads: true
  });
</script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76551557-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
