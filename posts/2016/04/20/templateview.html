<html><body><p style="text-align:justify;">Vamos a trabajar con TemplateView para hacer una vista basada en clases, algo que ya hemos utilizado antes y que es bastante fácil de programar, para ello seguiremos con nuestro proyecto tutorial, primero le vamos a hacer unas pequeñas modificaciones para que se adapte a lo que necesitamos.<br>
Editamos el archivo base.html para agregar un pequeño menú en la parte superior de la pantalla:</p>
<p>[sourcecode language="html"]<br>
{% load staticfiles %}<br>
&lt;!DOCTYPE html&gt;<br>
&lt;html&gt;<br>
	&lt;head&gt;<br>
		&lt;meta charset="utf-8"&gt;<br>
	    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;<br>
	    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;<br>
	    &lt;meta name="description" content=""&gt;<br>
	    &lt;meta name="author" content=""&gt;<br>
		&lt;title&gt;Ejemplo Círculo de Programadores de Python Piura&lt;/title&gt;<br>
		&lt;link rel="stylesheet" type="text/css" href="{% static "css/bootstrap.min.css" %}"&gt;<br>
		&lt;link rel="stylesheet" type="text/css" href="{% static "css/jquery.dataTables.min.css"  %}"  /&gt;<br>
		&lt;script src="{% static "js/jquery.js" %}"&gt;&lt;/script&gt;<br>
	    &lt;script src="{% static "js/bootstrap.min.js" %}"&gt;&lt;/script&gt;<br>
	    &lt;script src="{% static "js/jquery.dataTables.min.js" %}"&gt;&lt;/script&gt;<br>
	&lt;/head&gt;<br>
	&lt;body&gt;<br>
		&lt;div id="wrapper"&gt;<br>
			&lt;nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0"&gt;<br>
				&lt;div class="navbar-header"&gt;<br>
			        &lt;button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"&gt;<br>
			            &lt;span class="sr-only"&gt;Desplegar navegación&lt;/span&gt;<br>
			            &lt;span class="icon-bar"&gt;&lt;/span&gt;<br>
			            &lt;span class="icon-bar"&gt;&lt;/span&gt;<br>
			            &lt;span class="icon-bar"&gt;&lt;/span&gt;<br>
			        &lt;/button&gt;<br>
			        &lt;a class="navbar-brand" href="#"&gt;<br>
						&lt;span class="glyphicon glyphicon-home"&gt;&lt;/span&gt; Inicio<br>
					&lt;/a&gt;<br>
					&lt;a class="navbar-brand" href="#"&gt;<br>
						&lt;span class="glyphicon glyphicon-user"&gt;&lt;/span&gt; Personas<br>
					&lt;/a&gt;<br>
			    &lt;/div&gt;<br>
				{% block menu %}<br>
		        {% endblock menu %}<br>
		    &lt;/nav&gt;<br>
			&lt;div id="page-wrapper"&gt;<br>
				&lt;div class="container-fluid"&gt;<br>
					{% block cuerpo %}<br>
					{% endblock cuerpo %}<br>
				&lt;/div&gt;<br>
			&lt;/div&gt;<br>
		&lt;/div&gt;<br>
	&lt;/body&gt;<br>
	{% block js %}<br>
	{% endblock js %}<br>
&lt;/html&gt;<br>
[/sourcecode]</p>
<p>Tendremos algo como esto:</p>
<p><a href="/2016/04/menu.jpg"><img class="wp-image-165 aligncenter" src="https://pythonpiura.files.wordpress.com/2016/04/menu.jpg?w=300" alt="menu" width="600" height="48"></a></p>
<p style="text-align:justify;">Creamos un archivo llamado bienvenida.html para poner un aviso de bienvenida y de esta manera no ingresar directamente a nuestra tabla de personas, para ello debemos crear una vista usando TemplateView y agregar el url correspondiente:</p>
<p>bienvenida.html</p>
<p>[sourcecode language="html"]<br>
{% extends "base.html" %}<br>
{% block cuerpo %}<br>
&lt;div class="row"&gt;<br>
    &lt;div class="col-lg-12"&gt;<br>
        &lt;h1 class="page-header"&gt;Círculo de Programadores de Python Piura&lt;/h1&gt;<br>
    &lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div class="row"&gt;<br>
	&lt;div class="col-lg-12"&gt;<br>
		&lt;div class="panel panel-info"&gt;<br>
			&lt;div class="panel-heading"&gt;<br>
			    Bienvenido<br>
			&lt;/div&gt;<br>
			&lt;div class="panel-body"&gt;<br>
				&lt;div class=’form-group’&gt;<br>
					&lt;div class="row"&gt;<br>
						&lt;h3 class="text-center"&gt;Bienvenido.&lt;/h3&gt;<br>
					&lt;/div&gt;<br>
				&lt;/div&gt;<br>
			&lt;/div&gt;<br>
	&lt;/div&gt;<br>
&lt;/div&gt;<br>
{% endblock cuerpo %}<br>
[/sourcecode]</p>
<p style="text-align:justify;">Creamos una clase llamada Bienvenida, que hereda de TemplateView y le decimos que la plantilla a utilizar se llamará bienvenida.html.</p>
<p>views.py</p>
<p>[sourcecode language="python"]<br>
from django.views.generic.base import TemplateView</p>
<p>class Bienvenida(TemplateView):<br>
    template_name = "bienvenida.html"<br>
[/sourcecode]</p>
<p style="text-align:justify;">En el archivo urls.py cambiamos la url raiz para que apunte a la clase Bienvenida y creamos una url llamada personas para mostrar la tabla personas.</p>
<p>urls.py</p>
<p>[sourcecode language="python"]<br>
from django.conf.urls import patterns, url<br>
from personas.views import Personas, CrearPersona, ReportePersonasExcel,\<br>
    Bienvenida</p>
<p>urlpatterns = patterns(”,<br>
    url(r’^$’,Bienvenida.as_view(), name="bienvenida"),<br>
    url(r’^personas/$’,Personas.as_view(), name="personas"),<br>
    url(r’^crear_persona/$’,CrearPersona.as_view(), name="crear_persona"),<br>
    url(r’^reporte_personas_excel/$’,ReportePersonasExcel.as_view(), name="reporte_personas_excel"),</p>
<p>)<br>
[/sourcecode]</p>
<p>Con lo que tendriamos algo como esto:</p>
<p><a href="/2016/04/nueva.jpg"><img class="alignnone wp-image-164" src="https://pythonpiura.files.wordpress.com/2016/04/nueva.jpg?w=300" alt="nueva" width="458" height="136"></a></p>
<p style="text-align:justify;">¿Y ahora como vemos nuestra tabla personas? Muy fácil haciendo que el enlace llamado “Personas” apunte a la url personas y de paso también hacemos que el enlace “Inicio” apunte a la url de bienvenida, para ello modificamos el archivo base.html:</p>
<p>[sourcecode language="html"]<br>
&lt;a class="navbar-brand" href="{% url ‘personas:bienvenida’ %}"&gt;<br>
	&lt;span class="glyphicon glyphicon-home"&gt;&lt;/span&gt; Inicio<br>
&lt;/a&gt;<br>
&lt;a class="navbar-brand" href="{% url ‘personas:personas’ %}"&gt;<br>
	&lt;span class="glyphicon glyphicon-user"&gt;&lt;/span&gt; Personas<br>
&lt;/a&gt;<br>
[/sourcecode]</p>
<p style="text-align:justify;">Con esto hemos podido ver el uso sencillo de TemplateView mas adelante vamos a utilizar otras vistas basadas en clases, hasta la próxima.<br>
Saludos.</p>
</body></html>